  [1m[35m (197.7ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (56.6ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 16:09:29.175297', '2026-02-10 16:09:29.175299') RETURNING "key"[0m
Migrating to CreateFinancialTrustTables (20240210000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240210000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 16:09:47.714436"], ["updated_at", "2026-02-10 16:09:47.714436"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSavingsAccount Create (2.6ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 16:09:47.725902"], ["updated_at", "2026-02-10 16:09:47.725902"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInvestingAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:09:47.730804"], ["updated_at", "2026-02-10 16:09:47.730804"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2026-02-10 23:09:59 +0700
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:11:in `current_user'
  [1m[36mSavingsAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 4.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 15.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 521.9ms | GC: 15.7ms)
Completed 200 OK in 572ms (Views: 527.6ms | ActiveRecord: 16.5ms (4 queries, 0 cached) | GC: 15.7ms)


Started GET "/assets/application-bed4a081aba7ea344ac4cd879248e775c2df2cd14d092fd9c45310b32b48667f.css" for 127.0.0.1 at 2026-02-10 23:10:00 +0700
Started GET "/favicon.ico" for 127.0.0.1 at 2026-02-10 23:10:02 +0700
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:10:18 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"1", "target_id"=>"1", "amount"=>"100", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:34:in `current_user'
  [1m[36mAccount Load (33.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (33.1ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.3ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (1.5ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "-100.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-10 16:10:18.881999"], ["updated_at", "2026-02-10 16:10:18.881999"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.3ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "100.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-10 16:10:18.889706"], ["updated_at", "2026-02-10 16:10:18.889706"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mSavingsAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "900.0"], ["updated_at", "2026-02-10 16:10:18.893639"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:30:in `block in call'
  [1m[36mSavingsAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "1100.0"], ["updated_at", "2026-02-10 16:10:18.895999"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:31:in `block in call'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
Completed 500 Internal Server Error in 132ms (ActiveRecord: 72.6ms (9 queries, 1 cached) | GC: 24.1ms)


  
NoMethodError (undefined method `dom_id' for #<SavingsAccount balance: 0.11e4, user_id: 1, id: 1, type: "SavingsAccount", created_at: "2026-02-10 16:09:47.725902000 +0000", updated_at: "2026-02-10 16:10:18.895999000 +0000">):
  
app/models/account.rb:10:in `block in <class:Account>'
app/services/internal_transfer_service.rb:12:in `call'
app/controllers/transfers_controller.rb:12:in `create'
Started GET "/" for 127.0.0.1 at 2026-02-10 23:10:57 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:11:in `current_user'
  [1m[36mSavingsAccount Load (1.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 3.4ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 9.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | GC: 0.0ms)
Completed 200 OK in 62ms (Views: 21.9ms | ActiveRecord: 22.3ms (4 queries, 0 cached) | GC: 0.7ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:11:03 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"1", "target_id"=>"2", "amount"=>"100", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:34:in `current_user'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.9ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mInvestingAccount Load (0.5ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "InvestingAccount"], ["id", 2], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (1.0ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "-100.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-10 16:11:03.465400"], ["updated_at", "2026-02-10 16:11:03.465400"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.2ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 2], ["amount", "100.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-10 16:11:03.467824"], ["updated_at", "2026-02-10 16:11:03.467824"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mSavingsAccount Update (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "1000.0"], ["updated_at", "2026-02-10 16:11:03.468709"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:30:in `block in call'
  [1m[36mInvestingAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "100.0"], ["updated_at", "2026-02-10 16:11:03.469928"], ["id", 2]]
  â†³ app/services/internal_transfer_service.rb:31:in `block in call'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
  Rendered accounts/_balance.html.erb (Duration: 0.3ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_1\"><template><div id=\"balance_savings_account_1\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $1,000.00\n</div>\n</template></turbo-stream>"
Completed 500 Internal Server Error in 57ms (ActiveRecord: 30.2ms (9 queries, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `fetch' for nil:NilClass

        adapter = (cable.fetch("adapter") { "redis" })
                        ^^^^^^):
  
app/models/account.rb:10:in `block in <class:Account>'
app/services/internal_transfer_service.rb:12:in `call'
app/controllers/transfers_controller.rb:12:in `create'
Started GET "/" for 127.0.0.1 at 2026-02-10 23:11:48 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:11:in `current_user'
  [1m[36mSavingsAccount Load (1.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 3.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 8.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | GC: 0.0ms)
Completed 200 OK in 57ms (Views: 20.5ms | ActiveRecord: 20.8ms (4 queries, 0 cached) | GC: 0.7ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:11:58 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"1", "target_id"=>"2", "amount"=>"200", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:34:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.9ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "InvestingAccount"], ["id", 2], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (1.4ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "-200.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-10 16:11:58.442293"], ["updated_at", "2026-02-10 16:11:58.442293"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.2ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 2], ["amount", "200.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-10 16:11:58.444966"], ["updated_at", "2026-02-10 16:11:58.444966"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mSavingsAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "800.0"], ["updated_at", "2026-02-10 16:11:58.445829"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:30:in `block in call'
  [1m[36mInvestingAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "300.0"], ["updated_at", "2026-02-10 16:11:58.446639"], ["id", 2]]
  â†³ app/services/internal_transfer_service.rb:31:in `block in call'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
  Rendered accounts/_balance.html.erb (Duration: 0.4ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_1\"><template><div id=\"balance_savings_account_1\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $800.00\n</div>\n</template></turbo-stream>"
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_investing_account_2\"><template><div id=\"balance_investing_account_2\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $300.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 67ms (ActiveRecord: 32.6ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:11:58 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:11:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:12:19 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"1", "target_id"=>"1", "amount"=>"100", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:34:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.7ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.3ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (0.5ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "-100.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-10 16:12:19.286937"], ["updated_at", "2026-02-10 16:12:19.286937"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.4ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "100.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-10 16:12:19.290943"], ["updated_at", "2026-02-10 16:12:19.290943"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mSavingsAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "700.0"], ["updated_at", "2026-02-10 16:12:19.297307"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:30:in `block in call'
  [1m[36mSavingsAccount Update (62.6ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "900.0"], ["updated_at", "2026-02-10 16:12:19.308430"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:31:in `block in call'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
  Rendered accounts/_balance.html.erb (Duration: 1.5ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_1\"><template><div id=\"balance_savings_account_1\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $900.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 119ms (ActiveRecord: 69.5ms (9 queries, 1 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:12:19 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:11:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.0ms)
Completed 200 OK in 12ms (Views: 7.1ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:12:23 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"1", "target_id"=>"1", "amount"=>"200", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:34:in `current_user'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (1.2ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.3ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (0.4ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "-200.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-10 16:12:23.782663"], ["updated_at", "2026-02-10 16:12:23.782663"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.4ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "200.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-10 16:12:23.784752"], ["updated_at", "2026-02-10 16:12:23.784752"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mSavingsAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "700.0"], ["updated_at", "2026-02-10 16:12:23.786548"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:30:in `block in call'
  [1m[36mSavingsAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "1100.0"], ["updated_at", "2026-02-10 16:12:23.787889"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:31:in `block in call'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_1\"><template><div id=\"balance_savings_account_1\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $1,100.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 23ms (ActiveRecord: 3.8ms (9 queries, 1 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:12:23 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:11:in `current_user'
  [1m[36mSavingsAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:12:29 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"1", "target_id"=>"2", "amount"=>"100", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:34:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (2.5ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mInvestingAccount Load (0.4ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "InvestingAccount"], ["id", 2], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (0.7ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "-100.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-10 16:12:29.737881"], ["updated_at", "2026-02-10 16:12:29.737881"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.3ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 2], ["amount", "100.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-10 16:12:29.742698"], ["updated_at", "2026-02-10 16:12:29.742698"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mSavingsAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "1000.0"], ["updated_at", "2026-02-10 16:12:29.744269"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:30:in `block in call'
  [1m[36mInvestingAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "400.0"], ["updated_at", "2026-02-10 16:12:29.745235"], ["id", 2]]
  â†³ app/services/internal_transfer_service.rb:31:in `block in call'
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_1\"><template><div id=\"balance_savings_account_1\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $1,000.00\n</div>\n</template></turbo-stream>"
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_investing_account_2\"><template><div id=\"balance_investing_account_2\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $400.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 41ms (ActiveRecord: 16.3ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:12:29 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:11:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 1.7ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.2ms)
Completed 200 OK in 16ms (Views: 2.4ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 9.7ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:12:37 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"2", "target_id"=>"1", "amount"=>"500", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:34:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (6.3ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mInvestingAccount Load (0.4ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "InvestingAccount"], ["id", 2], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 35ms (ActiveRecord: 18.1ms (5 queries, 0 cached) | GC: 0.7ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:12:37 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:11:in `current_user'
  [1m[36mSavingsAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.1ms)
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.4ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.2ms)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:12:41 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"1", "target_id"=>"1", "amount"=>"350", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:34:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (2.2ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.8ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (0.4ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "-350.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-10 16:12:42.006069"], ["updated_at", "2026-02-10 16:12:42.006069"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.3ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "350.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-10 16:12:42.010181"], ["updated_at", "2026-02-10 16:12:42.010181"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mSavingsAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "650.0"], ["updated_at", "2026-02-10 16:12:42.011728"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:30:in `block in call'
  [1m[36mSavingsAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "1350.0"], ["updated_at", "2026-02-10 16:12:42.014324"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:31:in `block in call'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
  Rendered accounts/_balance.html.erb (Duration: 0.5ms | GC: 0.2ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_1\"><template><div id=\"balance_savings_account_1\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $1,350.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 26ms (ActiveRecord: 5.2ms (9 queries, 1 cached) | GC: 1.6ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:12:42 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:11:in `current_user'
  [1m[36mSavingsAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 1.8ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.1ms)
Completed 200 OK in 6ms (Views: 2.9ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.6ms)


  [1m[36mActiveRecord::SchemaMigration Load (5.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2026-02-10 23:27:59 +0700
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20240210010000_add_password_digest_to_users.rb


):
  
activerecord (7.2.3) lib/active_record/migration.rb:756:in `check_pending_migrations'
activerecord (7.2.3) lib/active_record/migration.rb:663:in `block (2 levels) in call'
activesupport (7.2.3) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (7.2.3) lib/active_record/migration.rb:668:in `block in call'
activerecord (7.2.3) lib/active_record/migration.rb:660:in `synchronize'
activerecord (7.2.3) lib/active_record/migration.rb:660:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.3) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.3) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.3) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.2.4) lib/rack/method_override.rb:28:in `call'
rack (3.2.4) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.2.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.2.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.2.4) lib/rack/sendfile.rb:131:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (7.2.3) lib/rails/engine.rb:535:in `call'
puma (7.2.0) lib/puma/configuration.rb:296:in `call'
puma (7.2.0) lib/puma/request.rb:103:in `block in handle_request'
puma (7.2.0) lib/puma/thread_pool.rb:355:in `with_force_shutdown'
puma (7.2.0) lib/puma/request.rb:102:in `handle_request'
puma (7.2.0) lib/puma/server.rb:503:in `process_client'
puma (7.2.0) lib/puma/server.rb:262:in `block in run'
puma (7.2.0) lib/puma/thread_pool.rb:182:in `block in spawn_thread'
  [1m[35m (25.6ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (4.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddPasswordDigestToUsers (20240210010000)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.8ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (2.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240210010000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mLedgerEntry Load (1.4ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 1]]
  [1m[36mLedgerEntry Destroy (0.4ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 1]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 2]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 3]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 5]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 7]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 8]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 9]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 10]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 11]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 13]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 14]]
  [1m[36mSavingsAccount Destroy (0.5ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 1]]
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 2]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 4]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 6]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 12]]
  [1m[36mInvestingAccount Destroy (0.2ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 2]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 16:28:14.425587"], ["updated_at", "2026-02-10 16:28:14.425587"], ["password_digest", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSavingsAccount Create (1.8ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 16:28:14.427991"], ["updated_at", "2026-02-10 16:28:14.427991"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInvestingAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:28:14.430690"], ["updated_at", "2026-02-10 16:28:14.430690"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2026-02-10 23:28:23 +0700
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 22ms (ActiveRecord: 8.7ms (1 query, 0 cached) | GC: 0.6ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-10 23:28:23 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 17.3ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-10 23:28:39 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Alice", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Alice"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 222ms (Views: 3.8ms | ActiveRecord: 3.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-10 23:29:05 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Alice", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Alice"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 198ms (ActiveRecord: 0.8ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:29:05 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.9ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 6.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 7.1ms | ActiveRecord: 15.7ms (4 queries, 0 cached) | GC: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (54.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_development"[0m
  [1m[35m (24.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_test"[0m
  [1m[35m (107.4ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (41.9ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (9.0ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying)[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210010000)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210000000);[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 16:33:40.751401', '2026-02-10 16:33:40.751404') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '293180e4b231a032ad78c6cfdef7813b74edf909', '2026-02-10 16:33:40.752610', '2026-02-10 16:33:40.752611') RETURNING "key"[0m
  [1m[35mSQL (7.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210010000)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210000000);[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 16:33:40.776101', '2026-02-10 16:33:40.776103') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2026-02-10 16:33:40.776939' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '293180e4b231a032ad78c6cfdef7813b74edf909', '2026-02-10 16:33:40.777604', '2026-02-10 16:33:40.777604') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2026-02-10 23:33:48 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20240210020000_add_unique_index_to_accounts.rb


):
  
activerecord (7.2.3) lib/active_record/migration.rb:756:in `check_pending_migrations'
activerecord (7.2.3) lib/active_record/migration.rb:663:in `block (2 levels) in call'
activesupport (7.2.3) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (7.2.3) lib/active_record/migration.rb:668:in `block in call'
activerecord (7.2.3) lib/active_record/migration.rb:660:in `synchronize'
activerecord (7.2.3) lib/active_record/migration.rb:660:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.3) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.3) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.3) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.2.4) lib/rack/method_override.rb:28:in `call'
rack (3.2.4) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.2.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.2.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.2.4) lib/rack/sendfile.rb:131:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (7.2.3) lib/rails/engine.rb:535:in `call'
puma (7.2.0) lib/puma/configuration.rb:296:in `call'
puma (7.2.0) lib/puma/request.rb:103:in `block in handle_request'
puma (7.2.0) lib/puma/thread_pool.rb:355:in `with_force_shutdown'
puma (7.2.0) lib/puma/request.rb:102:in `handle_request'
puma (7.2.0) lib/puma/server.rb:503:in `process_client'
puma (7.2.0) lib/puma/server.rb:262:in `block in run'
puma (7.2.0) lib/puma/thread_pool.rb:182:in `block in spawn_thread'
  [1m[35m (21.6ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddUniqueIndexToAccounts (20240210020000)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240210020000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 16:34:00.359609"], ["updated_at", "2026-02-10 16:34:00.359609"], ["password_digest", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSavingsAccount Create (2.8ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 16:34:00.369772"], ["updated_at", "2026-02-10 16:34:00.369772"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInvestingAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:34:00.374268"], ["updated_at", "2026-02-10 16:34:00.374268"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2026-02-10 23:34:07 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 21ms (ActiveRecord: 6.0ms (1 query, 0 cached) | GC: 0.5ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-10 23:34:07 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 5.9ms | GC: 4.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | GC: 5.3ms)
Completed 200 OK in 24ms (Views: 20.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 5.4ms)


Started POST "/session" for 127.0.0.1 at 2026-02-10 23:34:13 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Alice", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Alice"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 239ms (ActiveRecord: 39.4ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:34:14 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 5.6ms | ActiveRecord: 2.8ms (4 queries, 0 cached) | GC: 0.2ms)


  [1m[35m (21.6ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddAdminToUsers (20240210030000)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "admin" boolean DEFAULT FALSE NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240210030000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mLedgerEntry Load (0.6ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 1]]
  [1m[36mSavingsAccount Destroy (0.5ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 1]]
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 2]]
  [1m[36mInvestingAccount Destroy (0.3ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 2]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 16:37:01.484973"], ["updated_at", "2026-02-10 16:37:01.484973"], ["password_digest", "[FILTERED]"], ["admin", false]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSavingsAccount Create (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 16:37:01.487278"], ["updated_at", "2026-02-10 16:37:01.487278"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInvestingAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:37:01.490119"], ["updated_at", "2026-02-10 16:37:01.490119"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2026-02-10 23:37:11 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 22ms (ActiveRecord: 5.9ms (1 query, 0 cached) | GC: 0.7ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-10 23:37:11 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 20.5ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-10 23:37:34 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Admin", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (44.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 64ms (Views: 12.1ms | ActiveRecord: 44.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-10 23:37:40 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Admin", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 6ms (Views: 3.9ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-10 23:38:00 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Admin", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 6.4ms | GC: 0.0ms)
  [1m[36mUser Load (11.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 27.5ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 38ms (Views: 18.1ms | ActiveRecord: 11.9ms (2 queries, 0 cached) | GC: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (3.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (74.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_development"[0m
  [1m[35m (30.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_test"[0m
  [1m[35m (108.3ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (50.9ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (4.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying, "admin" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210030000)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210020000),
(20240210010000),
(20240210000000);[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 16:38:15.354527', '2026-02-10 16:38:15.354529') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '775651bca9cc63a74ffbab18f7af5b31589f9e5c', '2026-02-10 16:38:15.355499', '2026-02-10 16:38:15.355501') RETURNING "key"[0m
  [1m[35mSQL (4.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying, "admin" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210030000)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210020000),
(20240210010000),
(20240210000000);[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 16:38:15.374605', '2026-02-10 16:38:15.374606') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2026-02-10 16:38:15.375366' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '775651bca9cc63a74ffbab18f7af5b31589f9e5c', '2026-02-10 16:38:15.375984', '2026-02-10 16:38:15.375984') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 16:38:15.565622"], ["updated_at", "2026-02-10 16:38:15.565622"], ["password_digest", "[FILTERED]"], ["admin", false]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSavingsAccount Create (2.1ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 16:38:15.576124"], ["updated_at", "2026-02-10 16:38:15.576124"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInvestingAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:38:15.580186"], ["updated_at", "2026-02-10 16:38:15.580186"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (73.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_development"[0m
  [1m[35m (43.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_test"[0m
  [1m[35m (91.6ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (50.1ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (4.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying, "admin" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210030000)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210020000),
(20240210010000),
(20240210000000);[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 16:40:29.587932', '2026-02-10 16:40:29.587933') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '775651bca9cc63a74ffbab18f7af5b31589f9e5c', '2026-02-10 16:40:29.589196', '2026-02-10 16:40:29.589197') RETURNING "key"[0m
  [1m[35mSQL (4.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying, "admin" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210030000)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210020000),
(20240210010000),
(20240210000000);[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 16:40:29.612010', '2026-02-10 16:40:29.612012') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2026-02-10 16:40:29.612714' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '775651bca9cc63a74ffbab18f7af5b31589f9e5c', '2026-02-10 16:40:29.613281', '2026-02-10 16:40:29.613281') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 16:40:29.805468"], ["updated_at", "2026-02-10 16:40:29.805468"], ["password_digest", "[FILTERED]"], ["admin", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["created_at", "2026-02-10 16:40:29.981359"], ["updated_at", "2026-02-10 16:40:29.981359"], ["password_digest", "[FILTERED]"], ["admin", true]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSavingsAccount Create (1.7ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 16:40:29.989215"], ["updated_at", "2026-02-10 16:40:29.989215"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInvestingAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:40:29.993032"], ["updated_at", "2026-02-10 16:40:29.993032"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Started POST "/session" for 127.0.0.1 at 2026-02-10 23:40:41 +0700
  [1m[36mActiveRecord::SchemaMigration Load (12.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Admin", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 212ms (ActiveRecord: 15.5ms (1 query, 0 cached) | GC: 0.6ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:40:41 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered dashboards/show.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 3.4ms (3 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (dom_id must be passed a record_or_class as the first argument, you passed nil):

Causes:
ArgumentError (dom_id must be passed a record_or_class as the first argument, you passed nil)
    1: <div id="<%= dom_id(account, :balance) %>" class="text-3xl font-mono text-green-700 transition-all duration-500">
    2:   <%= number_to_currency(account.balance) %>
    3: </div>
  
app/views/accounts/_balance.html.erb:1
app/views/dashboards/show.html.erb:11
Started GET "/" for 127.0.0.1 at 2026-02-10 23:41:53 +0700
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered dashboards/show.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 11.0ms (3 queries, 0 cached) | GC: 0.5ms)


  
ActionView::Template::Error (dom_id must be passed a record_or_class as the first argument, you passed nil):

Causes:
ArgumentError (dom_id must be passed a record_or_class as the first argument, you passed nil)
    1: <div id="<%= dom_id(account, :balance) %>" class="text-3xl font-mono text-green-700 transition-all duration-500">
    2:   <%= number_to_currency(account.balance) %>
    3: </div>
  
app/views/accounts/_balance.html.erb:1
app/views/dashboards/show.html.erb:11
Started GET "/" for 127.0.0.1 at 2026-02-10 23:43:05 +0700
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | GC: 0.0ms)
Completed 200 OK in 58ms (Views: 18.8ms | ActiveRecord: 13.4ms (4 queries, 0 cached) | GC: 0.7ms)


  [1m[35m (18.4ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mLedgerEntry Load (0.3ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 1]]
  [1m[36mSavingsAccount Destroy (1.2ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 1]]
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 2]]
  [1m[36mInvestingAccount Destroy (0.2ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 2]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 16:45:50.810269"], ["updated_at", "2026-02-10 16:45:50.810269"], ["password_digest", "[FILTERED]"], ["admin", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["created_at", "2026-02-10 16:45:50.986175"], ["updated_at", "2026-02-10 16:45:50.986175"], ["password_digest", "[FILTERED]"], ["admin", true]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSavingsAccount Create (0.9ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 16:45:50.988168"], ["updated_at", "2026-02-10 16:45:50.988168"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInvestingAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:45:50.989809"], ["updated_at", "2026-02-10 16:45:50.989809"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2026-02-10 23:45:57 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 24ms (ActiveRecord: 6.6ms (1 query, 0 cached) | GC: 0.7ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-10 23:45:57 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 14.5ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-10 23:46:03 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Admin", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 216ms (ActiveRecord: 6.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:46:03 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 4.6ms | ActiveRecord: 3.6ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-10 23:46:50 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 4.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 7.6ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-10 23:47:02 +0700
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"4", "type"=>"SavingsAccount"}, "commit"=>"Create Account"}
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:21:in `create'
  [1m[36mSavingsAccount Create (5.2ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 4], ["type", "SavingsAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:47:02.741390"], ["updated_at", "2026-02-10 16:47:02.741390"]]
  â†³ app/controllers/admin/accounts_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/admin/accounts_controller.rb:21:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 67ms (ActiveRecord: 11.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:47:02 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 2.5ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-10 23:47:10 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 9.0ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (3.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddInterestRateToAccounts (20240210040000)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "accounts" ADD "interest_rate" decimal(5,4) DEFAULT 0.0 NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240210040000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 3]]
  [1m[36mLedgerEntry Load (0.3ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  [1m[36mSavingsAccount Destroy (0.2ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 3]]
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  [1m[36mInvestingAccount Destroy (0.1ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 4]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 4]]
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 5]]
  [1m[36mSavingsAccount Destroy (0.2ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 5]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 16:52:55.961206"], ["updated_at", "2026-02-10 16:52:55.961206"], ["password_digest", "[FILTERED]"], ["admin", false]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["created_at", "2026-02-10 16:52:56.143422"], ["updated_at", "2026-02-10 16:52:56.143422"], ["password_digest", "[FILTERED]"], ["admin", true]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSavingsAccount Create (11.9ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 5], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 16:52:56.145754"], ["updated_at", "2026-02-10 16:52:56.145754"], ["interest_rate", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInvestingAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 5], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:52:56.159659"], ["updated_at", "2026-02-10 16:52:56.159659"], ["interest_rate", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (61.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_development"[0m
  [1m[35m (34.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_test"[0m
  [1m[35m (108.0ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (50.5ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (5.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "interest_rate" decimal(5,4) DEFAULT 0.0 NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying, "admin" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210040000)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210030000),
(20240210020000),
(20240210010000),
(20240210000000);[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 16:53:09.262357', '2026-02-10 16:53:09.262359') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'b42a6ff500d8d6da213ba814be9079890850b937', '2026-02-10 16:53:09.264289', '2026-02-10 16:53:09.264290') RETURNING "key"[0m
  [1m[35mSQL (5.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "interest_rate" decimal(5,4) DEFAULT 0.0 NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying, "admin" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210040000)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210030000),
(20240210020000),
(20240210010000),
(20240210000000);[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 16:53:09.285583', '2026-02-10 16:53:09.285585') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2026-02-10 16:53:09.286351' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'b42a6ff500d8d6da213ba814be9079890850b937', '2026-02-10 16:53:09.286979', '2026-02-10 16:53:09.286980') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 16:53:09.495976"], ["updated_at", "2026-02-10 16:53:09.495976"], ["password_digest", "[FILTERED]"], ["admin", false]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["created_at", "2026-02-10 16:53:09.677455"], ["updated_at", "2026-02-10 16:53:09.677455"], ["password_digest", "[FILTERED]"], ["admin", true]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSavingsAccount Create (1.9ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 16:53:09.689729"], ["updated_at", "2026-02-10 16:53:09.689729"], ["interest_rate", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInvestingAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:53:09.693489"], ["updated_at", "2026-02-10 16:53:09.693489"], ["interest_rate", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2026-02-10 23:54:21 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 23ms (ActiveRecord: 8.0ms (1 query, 0 cached) | GC: 0.6ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-10 23:54:21 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 18.2ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-10 23:54:28 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Admin", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 372ms (ActiveRecord: 121.8ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:54:28 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 6.0ms | ActiveRecord: 3.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-10 23:54:31 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (11.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 17.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 9.7ms | ActiveRecord: 12.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-10 23:54:43 +0700
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"1", "type"=>"InvestingAccount", "interest_rate"=>"2"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mInvestingAccount Create (5.6ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:54:43.713385"], ["updated_at", "2026-02-10 16:54:43.713385"], ["interest_rate", "2.0"]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 17.4ms (3 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_accounts_on_user_id_and_type"
DETAIL:  Key (user_id, type)=(1, InvestingAccount) already exists.
):

Causes:
PG::UniqueViolation (ERROR:  duplicate key value violates unique constraint "index_accounts_on_user_id_and_type"
DETAIL:  Key (user_id, type)=(1, InvestingAccount) already exists.
)
  
Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-10 23:54:55 +0700
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"1", "type"=>"InvestingAccount", "interest_rate"=>"2"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mInvestingAccount Create (3.7ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:54:55.911728"], ["updated_at", "2026-02-10 16:54:55.911728"], ["interest_rate", "2.0"]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 4.3ms (3 queries, 0 cached) | GC: 0.6ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_accounts_on_user_id_and_type"
DETAIL:  Key (user_id, type)=(1, InvestingAccount) already exists.
):

Causes:
PG::UniqueViolation (ERROR:  duplicate key value violates unique constraint "index_accounts_on_user_id_and_type"
DETAIL:  Key (user_id, type)=(1, InvestingAccount) already exists.
)
  
Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-10 23:57:37 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"1", "type"=>"InvestingAccount", "interest_rate"=>"2"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mAccount Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 55ms (Views: 17.4ms | ActiveRecord: 13.2ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-10 23:57:41 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 7.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 16.0ms | ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:57:46 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 11.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | GC: 0.0ms)
Completed 200 OK in 51ms (Views: 17.6ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-10 23:57:49 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 10.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 12.9ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-10 23:57:54 +0700
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"2", "type"=>"SavingsAccount", "interest_rate"=>"0.0"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mAccount Exists? (67.5ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mSavingsAccount Create (1.6ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 2], ["type", "SavingsAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:57:54.612051"], ["updated_at", "2026-02-10 16:57:54.612051"], ["interest_rate", "0.0"]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 93ms (ActiveRecord: 71.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:57:54 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 2.6ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 5.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | GC: 0.0ms)
Completed 200 OK in 14ms (Views: 7.6ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:58:00 +0700
  
SyntaxError (/Users/americano/dev/ruby/billionare-kit/app/controllers/transfers_controller.rb:31: syntax error, unexpected `end', expecting end-of-input
    end
    ^~~
):
  
app/controllers/transfers_controller.rb:31: syntax error, unexpected `end', expecting end-of-input
Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:58:43 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"5", "target_id"=>"5", "amount"=>"0.09", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.7ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 5], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.1ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 5], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 17ms (ActiveRecord: 7.3ms (5 queries, 1 cached) | GC: 0.9ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:58:43 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 3.0ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.1ms)
Completed 200 OK in 8ms (Views: 5.0ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:58:50 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"5", "target_id"=>"5", "amount"=>"0.04", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (2.3ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 5], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.5ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 5], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 19ms (ActiveRecord: 3.8ms (5 queries, 1 cached) | GC: 1.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:58:50 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.2ms)
Completed 200 OK in 11ms (Views: 4.1ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 1.0ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:58:51 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"5", "target_id"=>"5", "amount"=>"", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (2.3ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 5], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.6ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 5], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (2.0ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 5], ["amount", "-0.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-10 16:58:51.377356"], ["updated_at", "2026-02-10 16:58:51.377356"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.2ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 5], ["amount", "0.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-10 16:58:51.381020"], ["updated_at", "2026-02-10 16:58:51.381020"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
  Rendered accounts/_balance.html.erb (Duration: 0.4ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_2_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_5\"><template><div id=\"balance_savings_account_5\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $0.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 51ms (ActiveRecord: 12.7ms (7 queries, 1 cached) | GC: 1.4ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:58:51 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 3.2ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.5ms)
Completed 200 OK in 8ms (Views: 4.5ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:58:53 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.6ms | GC: 0.2ms)
  [1m[36mAccount Load (1.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 7.5ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | GC: 0.6ms)
Completed 200 OK in 17ms (Views: 9.0ms | ActiveRecord: 2.3ms (4 queries, 0 cached) | GC: 0.9ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:59:02 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"5", "target_id"=>"5", "amount"=>"1000", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (14.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (2.9ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 5], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 5], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 53ms (ActiveRecord: 18.4ms (5 queries, 1 cached) | GC: 0.9ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:59:03 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 2.3ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.1ms)
Completed 200 OK in 7ms (Views: 4.0ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 00:01:27 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20240210050000_add_name_to_accounts.rb


):
  
activerecord (7.2.3) lib/active_record/migration.rb:756:in `check_pending_migrations'
activerecord (7.2.3) lib/active_record/migration.rb:663:in `block (2 levels) in call'
activesupport (7.2.3) lib/active_support/file_update_checker.rb:85:in `execute'
activesupport (7.2.3) lib/active_support/file_update_checker.rb:95:in `execute_if_updated'
activerecord (7.2.3) lib/active_record/migration.rb:670:in `block in call'
activerecord (7.2.3) lib/active_record/migration.rb:660:in `synchronize'
activerecord (7.2.3) lib/active_record/migration.rb:660:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.3) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.3) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.3) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.2.4) lib/rack/method_override.rb:28:in `call'
rack (3.2.4) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.2.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.2.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.2.4) lib/rack/sendfile.rb:131:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (7.2.3) lib/rails/engine.rb:535:in `call'
puma (7.2.0) lib/puma/configuration.rb:296:in `call'
puma (7.2.0) lib/puma/request.rb:103:in `block in handle_request'
puma (7.2.0) lib/puma/thread_pool.rb:355:in `with_force_shutdown'
puma (7.2.0) lib/puma/request.rb:102:in `handle_request'
puma (7.2.0) lib/puma/server.rb:503:in `process_client'
puma (7.2.0) lib/puma/server.rb:262:in `block in run'
puma (7.2.0) lib/puma/thread_pool.rb:182:in `block in spawn_thread'
  [1m[35m (15.6ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddNameToAccounts (20240210050000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "accounts" ADD "name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240210050000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2026-02-11 00:01:42 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.4ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 6.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | GC: 0.0ms)
Completed 200 OK in 62ms (Views: 19.6ms | ActiveRecord: 14.0ms (4 queries, 0 cached) | GC: 0.7ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-11 00:01:44 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 8.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 11.3ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 00:01:48 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 5.4ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-11 00:01:49 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 6.8ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 00:01:58 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 6.6ms | ActiveRecord: 7.0ms (4 queries, 0 cached) | GC: 0.0ms)


  [1m[35m (20.3ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (53.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_development"[0m
  [1m[35m (30.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_test"[0m
  [1m[35m (110.9ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (45.1ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (6.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "interest_rate" decimal(5,4) DEFAULT 0.0 NOT NULL, "name" character varying)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying, "admin" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210050000)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210040000),
(20240210030000),
(20240210020000),
(20240210010000),
(20240210000000);[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 17:05:00.467103', '2026-02-10 17:05:00.467105') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'ee48a7ae531939f378bf4edd247e35ffa728e9d3', '2026-02-10 17:05:00.468388', '2026-02-10 17:05:00.468389') RETURNING "key"[0m
  [1m[35mSQL (7.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "interest_rate" decimal(5,4) DEFAULT 0.0 NOT NULL, "name" character varying)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying, "admin" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210050000)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210040000),
(20240210030000),
(20240210020000),
(20240210010000),
(20240210000000);[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 17:05:00.492953', '2026-02-10 17:05:00.492955') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2026-02-10 17:05:00.493731' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'ee48a7ae531939f378bf4edd247e35ffa728e9d3', '2026-02-10 17:05:00.494321', '2026-02-10 17:05:00.494322') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Alice"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 17:05:00.712896"], ["updated_at", "2026-02-10 17:05:00.712896"], ["password_digest", "[FILTERED]"], ["admin", false]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["created_at", "2026-02-10 17:05:00.892871"], ["updated_at", "2026-02-10 17:05:00.892871"], ["password_digest", "[FILTERED]"], ["admin", true]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSavingsAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  [1m[36mSavingsAccount Create (2.0ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate", "name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 17:05:00.906690"], ["updated_at", "2026-02-10 17:05:00.906690"], ["interest_rate", "0.0"], ["name", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  [1m[36mInvestingAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate", "name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 17:05:00.915434"], ["updated_at", "2026-02-10 17:05:00.915434"], ["interest_rate", "0.0"], ["name", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2026-02-11 00:05:09 +0700
  [1m[36mActiveRecord::SchemaMigration Load (11.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:42
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | GC: 0.0ms)
Completed 200 OK in 56ms (Views: 18.1ms | ActiveRecord: 12.3ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-11 00:05:12 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 4.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 8.1ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-11 00:05:23 +0700
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"2", "type"=>"SavingsAccount", "interest_rate"=>"10"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mAccount Exists? (23.5ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mSavingsAccount Create (1.4ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate", "name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["type", "SavingsAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 17:05:23.947395"], ["updated_at", "2026-02-10 17:05:23.947395"], ["interest_rate", "10.0"], ["name", nil]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 25.9ms (4 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RangeError (PG::NumericValueOutOfRange: ERROR:  numeric field overflow
DETAIL:  A field with precision 5, scale 4 must round to an absolute value less than 10^1.
):

Causes:
PG::NumericValueOutOfRange (ERROR:  numeric field overflow
DETAIL:  A field with precision 5, scale 4 must round to an absolute value less than 10^1.
)
  
Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-11 00:05:44 +0700
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"2", "type"=>"SavingsAccount", "interest_rate"=>"11"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mAccount Exists? (33.4ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mSavingsAccount Create (1.3ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate", "name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["type", "SavingsAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 17:05:44.469258"], ["updated_at", "2026-02-10 17:05:44.469258"], ["interest_rate", "11.0"], ["name", nil]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
Completed 500 Internal Server Error in 90ms (ActiveRecord: 36.4ms (4 queries, 0 cached) | GC: 0.5ms)


  
ActiveRecord::RangeError (PG::NumericValueOutOfRange: ERROR:  numeric field overflow
DETAIL:  A field with precision 5, scale 4 must round to an absolute value less than 10^1.
):

Causes:
PG::NumericValueOutOfRange (ERROR:  numeric field overflow
DETAIL:  A field with precision 5, scale 4 must round to an absolute value less than 10^1.
)
  
Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-11 00:05:55 +0700
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"2", "type"=>"SavingsAccount", "interest_rate"=>"11.0"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mAccount Exists? (6.0ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mSavingsAccount Create (6.4ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate", "name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["type", "SavingsAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 17:05:55.534820"], ["updated_at", "2026-02-10 17:05:55.534820"], ["interest_rate", "11.0"], ["name", nil]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 13.8ms (4 queries, 0 cached) | GC: 1.8ms)


  
ActiveRecord::RangeError (PG::NumericValueOutOfRange: ERROR:  numeric field overflow
DETAIL:  A field with precision 5, scale 4 must round to an absolute value less than 10^1.
):

Causes:
PG::NumericValueOutOfRange (ERROR:  numeric field overflow
DETAIL:  A field with precision 5, scale 4 must round to an absolute value less than 10^1.
)
  
Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-11 00:06:12 +0700
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"2", "type"=>"SavingsAccount", "interest_rate"=>"1.01"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mAccount Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mSavingsAccount Create (2.4ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate", "name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["type", "SavingsAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 17:06:12.333210"], ["updated_at", "2026-02-10 17:06:12.333210"], ["interest_rate", "1.01"], ["name", nil]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 43ms (ActiveRecord: 16.8ms (4 queries, 0 cached) | GC: 0.8ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 00:06:12 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 7.3ms | GC: 0.3ms)
  Rendered dashboards/show.html.erb within layouts/application (Duration: 16.2ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | GC: 0.6ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.9ms)


  
ActionView::Template::Error (undefined method `savings_account_path' for #<ActionView::Base:0x0000000000bea0>

              recipient.public_send(method, *args)
                       ^^^^^^^^^^^^
Did you mean?  admin_accounts_path):

Causes:
NoMethodError (undefined method `savings_account_path' for #<ActionView::Base:0x0000000000bea0>

              recipient.public_send(method, *args)
                       ^^^^^^^^^^^^
Did you mean?  admin_accounts_path)
    10:       <h2 class="text-xl font-semibold mb-2">Savings Account</h2>
    11:       <% if @savings %>
    12:         <%= render "accounts/balance", account: @savings %>
    13:         <%= form_with model: @savings, class: "mt-4 flex gap-2" do |f| %>
    14:           <%= f.text_field :name, class: "flex-1 rounded-md border-gray-300 shadow-sm text-sm", placeholder: "Name this account (e.g. 'Standard Savings')" %>
    15:           <%= f.submit "Rename", class: "bg-gray-200 hover:bg-gray-300 text-gray-700 px-3 py-1 rounded text-sm cursor-pointer" %>
    16:         <% end %>
  
app/views/dashboards/show.html.erb:13
Started GET "/" for 127.0.0.1 at 2026-02-11 00:07:49 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (2.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:42
  Rendered dashboards/show.html.erb within layouts/application (Duration: 5.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | GC: 0.0ms)
Completed 200 OK in 61ms (Views: 17.8ms | ActiveRecord: 17.0ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-11 00:07:58 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"3", "target_id"=>"3", "amount"=>"100", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (47.6ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 3], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.3ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 3], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 75ms (ActiveRecord: 60.1ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 00:07:58 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:42
  Rendered dashboards/show.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/accounts/3" for 127.0.0.1 at 2026-02-11 00:08:11 +0700
Processing by AccountsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "savings_account"=>{"name"=>"aaa"}, "commit"=>"Rename", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/accounts_controller.rb:18:in `set_account'
Completed 400 Bad Request in 8ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: account):
  
app/controllers/accounts_controller.rb:22:in `account_params'
app/controllers/accounts_controller.rb:5:in `update'
Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-11 00:08:25 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (22.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 34.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 58.2ms | GC: 1.2ms)
Completed 200 OK in 66ms (Views: 38.0ms | ActiveRecord: 22.9ms (2 queries, 0 cached) | GC: 1.2ms)


Started GET "/session" for 127.0.0.1 at 2026-02-11 00:08:27 +0700
  
ActionController::RoutingError (No route matches [GET] "/session"):
  
Started GET "/session" for 127.0.0.1 at 2026-02-11 00:10:14 +0700
  [1m[36mActiveRecord::SchemaMigration Load (22.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/session"):
  
Started GET "/" for 127.0.0.1 at 2026-02-11 00:10:17 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.8ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:42
  Rendered dashboards/show.html.erb within layouts/application (Duration: 6.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | GC: 0.0ms)
Completed 200 OK in 94ms (Views: 21.0ms | ActiveRecord: 10.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/session" for 127.0.0.1 at 2026-02-11 00:10:20 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Completed 302 Found in 6ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-11 00:10:20 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 29.4ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 30.2ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


  [1m[35m (95.4ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35m (3.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (28.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2026-02-11 21:42:41 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (9.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 52ms (ActiveRecord: 14.9ms (1 query, 0 cached) | GC: 8.7ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-11 21:42:41 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 5.9ms | GC: 0.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 140.6ms | GC: 25.6ms)
Completed 200 OK in 151ms (Views: 144.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 25.9ms)


Started GET "/assets/application-bed4a081aba7ea344ac4cd879248e775c2df2cd14d092fd9c45310b32b48667f.css" for 127.0.0.1 at 2026-02-11 21:42:41 +0700
Started GET "/favicon.ico" for 127.0.0.1 at 2026-02-11 21:42:43 +0700
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started POST "/session" for 127.0.0.1 at 2026-02-11 21:42:50 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Alice", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Alice"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 237ms (ActiveRecord: 5.9ms (1 query, 0 cached) | GC: 1.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 21:42:50 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (2.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.2ms | GC: 0.1ms)
  Rendered accounts/_balance.html.erb (Duration: 3.4ms | GC: 0.3ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.4ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 1]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 2]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 17.2ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | GC: 1.0ms)
Completed 200 OK in 42ms (Views: 15.9ms | ActiveRecord: 7.9ms (6 queries, 0 cached) | GC: 2.1ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-11 21:43:07 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"1", "target_id"=>"1", "amount"=>"100", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (3.0ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (32.2ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "-100.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-11 14:43:07.172594"], ["updated_at", "2026-02-11 14:43:07.172594"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.2ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "100.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-11 14:43:07.207214"], ["updated_at", "2026-02-11 14:43:07.207214"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mSavingsAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "900.0"], ["updated_at", "2026-02-11 14:43:07.233611"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:30:in `block in call'
  [1m[36mSavingsAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "1100.0"], ["updated_at", "2026-02-11 14:43:07.235323"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:31:in `block in call'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
  Rendered accounts/_balance.html.erb (Duration: 0.4ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_1\"><template><div id=\"balance_savings_account_1\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $1,100.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 133ms (ActiveRecord: 62.4ms (9 queries, 1 cached) | GC: 1.5ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 21:43:07 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 1]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 2]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 4.1ms | ActiveRecord: 0.8ms (6 queries, 0 cached) | GC: 0.0ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-11 21:43:19 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"1", "target_id"=>"2", "amount"=>"200", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (33.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.9ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "InvestingAccount"], ["id", 2], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (0.5ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "-200.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-11 14:43:19.193832"], ["updated_at", "2026-02-11 14:43:19.193832"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.1ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 2], ["amount", "200.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-11 14:43:19.195532"], ["updated_at", "2026-02-11 14:43:19.195532"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mSavingsAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "900.0"], ["updated_at", "2026-02-11 14:43:19.196333"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:30:in `block in call'
  [1m[36mInvestingAccount Update (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "200.0"], ["updated_at", "2026-02-11 14:43:19.197212"], ["id", 2]]
  â†³ app/services/internal_transfer_service.rb:31:in `block in call'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_1\"><template><div id=\"balance_savings_account_1\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $900.00\n</div>\n</template></turbo-stream>"
  Rendered accounts/_balance.html.erb (Duration: 0.4ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_investing_account_2\"><template><div id=\"balance_investing_account_2\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $200.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 81ms (ActiveRecord: 36.6ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 21:43:19 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 1]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 2]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 5.8ms | ActiveRecord: 0.9ms (6 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/session" for 127.0.0.1 at 2026-02-11 21:44:00 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Completed 302 Found in 5ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-11 21:44:00 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-11 21:44:06 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Admin", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 269ms (ActiveRecord: 0.8ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 21:44:07 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (44.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.5ms | GC: 0.0ms)
  [1m[36mAccount Load (35.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 41.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 46.1ms | GC: 0.0ms)
Completed 200 OK in 99ms (Views: 11.2ms | ActiveRecord: 79.9ms (5 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/accounts/3" for 127.0.0.1 at 2026-02-11 21:44:14 +0700
Processing by AccountsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "savings_account"=>{"name"=>""}, "commit"=>"Rename", "id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/accounts_controller.rb:18:in `set_account'
Completed 400 Bad Request in 66ms (ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: account):
  
app/controllers/accounts_controller.rb:22:in `account_params'
app/controllers/accounts_controller.rb:5:in `update'
Started PATCH "/accounts/3" for 127.0.0.1 at 2026-02-11 21:44:29 +0700
Processing by AccountsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "savings_account"=>{"name"=>"Oat's Saving"}, "commit"=>"Rename", "id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/accounts_controller.rb:18:in `set_account'
Completed 400 Bad Request in 16ms (ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.5ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: account):
  
app/controllers/accounts_controller.rb:22:in `account_params'
app/controllers/accounts_controller.rb:5:in `update'
Started GET "/" for 127.0.0.1 at 2026-02-11 21:46:02 +0700
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.3ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 9.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.1ms | GC: 0.0ms)
Completed 200 OK in 63ms (Views: 21.7ms | ActiveRecord: 15.6ms (5 queries, 0 cached) | GC: 0.4ms)


Started PATCH "/accounts/3" for 127.0.0.1 at 2026-02-11 21:46:13 +0700
Processing by AccountsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"name"=>"Oat's Saving"}, "commit"=>"Rename", "id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/accounts_controller.rb:18:in `set_account'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/accounts_controller.rb:5:in `update'
  [1m[36mSavingsAccount Update (0.6ms)[0m  [1m[33mUPDATE "accounts" SET "updated_at" = $1, "name" = $2 WHERE "accounts"."id" = $3[0m  [["updated_at", "2026-02-11 14:46:13.088095"], ["name", "Oat's Saving"], ["id", 3]]
  â†³ app/controllers/accounts_controller.rb:5:in `update'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/accounts_controller.rb:5:in `update'
  Rendered accounts/_balance.html.erb (Duration: 0.4ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_2_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_3\"><template><div id=\"balance_savings_account_3\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $0.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 81ms (ActiveRecord: 56.1ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 21:46:13 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.2ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 0.7ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-11 21:46:25 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (22.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 87.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 89.9ms | GC: 0.0ms)
Completed 200 OK in 107ms (Views: 74.3ms | ActiveRecord: 22.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-11 21:46:41 +0700
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"2", "type"=>"InvestingAccount", "interest_rate"=>"10"}, "commit"=>"Create Account"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mAccount Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mInvestingAccount Create (5.8ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate", "name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-11 14:46:41.809308"], ["updated_at", "2026-02-11 14:46:41.809308"], ["interest_rate", "10.0"], ["name", nil]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
Completed 500 Internal Server Error in 52ms (ActiveRecord: 21.4ms (4 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RangeError (PG::NumericValueOutOfRange: ERROR:  numeric field overflow
DETAIL:  A field with precision 5, scale 4 must round to an absolute value less than 10^1.
):

Causes:
PG::NumericValueOutOfRange (ERROR:  numeric field overflow
DETAIL:  A field with precision 5, scale 4 must round to an absolute value less than 10^1.
)
  
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to ChangeInterestRatePrecisionInAccounts (20240211220000)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.2ms)[0m  [1m[35mALTER TABLE "accounts" ALTER COLUMN "interest_rate" TYPE decimal(10,4), ALTER COLUMN "interest_rate" SET DEFAULT 0.0, ALTER COLUMN "interest_rate" SET NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240211220000') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-11 21:48:01 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"2", "type"=>"InvestingAccount", "interest_rate"=>"10"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mAccount Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mInvestingAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate", "name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-11 14:48:01.282237"], ["updated_at", "2026-02-11 14:48:01.282237"], ["interest_rate", "10.0"], ["name", nil]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 42ms (ActiveRecord: 15.1ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 21:48:01 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.3ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 10.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | GC: 0.0ms)
Completed 200 OK in 32ms (Views: 20.8ms | ActiveRecord: 2.5ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-11 21:48:03 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 6.2ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-11 21:48:11 +0700
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"2", "type"=>"InvestingAccount", "interest_rate"=>"100"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mAccount Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 18ms (Views: 4.1ms | ActiveRecord: 3.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-11 21:48:14 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 6.5ms | ActiveRecord: 1.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-11 21:48:17 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 3.9ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 21:48:21 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.4ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.7ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  [1m[36mLedgerEntry Load (0.2ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 13.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | GC: 0.0ms)
Completed 200 OK in 64ms (Views: 27.2ms | ActiveRecord: 2.1ms (6 queries, 0 cached) | GC: 0.0ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-11 21:48:42 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"3", "target_id"=>"4", "amount"=>"100", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (3.5ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 3], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "InvestingAccount"], ["id", 4], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 59ms (ActiveRecord: 5.6ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 21:48:42 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 0.9ms (6 queries, 0 cached) | GC: 0.0ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-11 21:48:55 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"3", "target_id"=>"3", "amount"=>"100", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (23.0ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 3], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.3ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 3], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 29ms (ActiveRecord: 24.0ms (5 queries, 1 cached) | GC: 0.5ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 21:48:55 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 2.9ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.3ms)
Completed 200 OK in 7ms (Views: 3.9ms | ActiveRecord: 0.7ms (6 queries, 0 cached) | GC: 0.5ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateDeposits (20240211230000)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (21.6ms)[0m  [1m[35mCREATE TABLE "deposits" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "status" character varying DEFAULT 'pending' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_869f62908d"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_deposits_on_account_id" ON "deposits" ("account_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240211230000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateActiveStorageTables (20260211153609)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20260211153609') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2026-02-11 22:36:25 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (6.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.6ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.4ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 13.0ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 31.7ms | GC: 0.4ms)
Completed 500 Internal Server Error in 105ms (ActiveRecord: 21.3ms (6 queries, 0 cached) | GC: 6.8ms)


  
ActionView::Template::Error (Missing Active Storage service name. Specify Active Storage service name for config.active_storage.service in config/environments/development.rb):

Causes:
RuntimeError (Missing Active Storage service name. Specify Active Storage service name for config.active_storage.service in config/environments/development.rb)
    31:               <span class="text-gray-700 mr-4">Welcome, <%= current_user.name %></span>
    32:               <% if current_user.admin? %>
    33:                 <%= link_to "Admin", new_admin_account_path, class: "text-blue-600 hover:text-blue-800 mr-4 font-semibold" %>
    34:                 <% pending_count = Deposit.where(status: 'pending').count %>
    35:                 <%= link_to admin_deposits_path, class: "relative text-gray-600 hover:text-gray-900 mr-4" do %>
    36:                   Deposits
    37:                   <% if pending_count > 0 %>
  
app/models/deposit.rb:3:in `<class:Deposit>'
app/models/deposit.rb:1:in `<main>'
app/views/layouts/application.html.erb:34
Started GET "/" for 127.0.0.1 at 2026-02-11 22:37:22 +0700
  [1m[36mActiveRecord::SchemaMigration Load (12.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.4ms | GC: 0.1ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.5ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 13.8ms | GC: 0.3ms)
DEPRECATION WARNING: Defining enums with keyword arguments is deprecated and will be removed
in Rails 8.0. Positional arguments should be used instead:

enum :status, {:pending=>"pending", :approved=>"approved", :rejected=>"rejected"}
 (called from <class:Deposit> at /Users/americano/dev/ruby/billionare-kit/app/models/deposit.rb:8)
  [1m[36mDeposit Count (54.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 114.6ms | GC: 0.4ms)
Completed 200 OK in 166ms (Views: 34.9ms | ActiveRecord: 95.3ms (7 queries, 0 cached) | GC: 7.4ms)


Started GET "/admin/deposits" for 127.0.0.1 at 2026-02-11 22:37:24 +0700
Processing by Admin::DepositsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/deposits/index.html.erb within layouts/application
  [1m[36mDeposit Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "deposits" WHERE "deposits"."status" = $1 LIMIT $2[0m  [["status", "pending"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:7
  Rendered admin/deposits/index.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 8.9ms | ActiveRecord: 1.3ms (3 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/session" for 127.0.0.1 at 2026-02-11 22:37:29 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Completed 302 Found in 6ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-11 22:37:29 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 5.3ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-11 22:37:35 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Alice", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Alice"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 218ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 22:37:35 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 1]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 2]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 9.4ms | ActiveRecord: 1.3ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/deposits/new" for 127.0.0.1 at 2026-02-11 22:37:53 +0700
Processing by DepositsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering deposits/new.html.erb within layouts/application
  Rendered deposits/new.html.erb within layouts/application (Duration: 7.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 11.9ms | ActiveRecord: 2.6ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/deposits" for 127.0.0.1 at 2026-02-11 22:38:06 +0700
Processing by DepositsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "deposit"=>{"account_type"=>"SavingsAccount", "amount"=>"200", "slip"=>#<ActionDispatch::Http::UploadedFile:0x000000010df48ce8 @tempfile=#<Tempfile:/var/folders/sk/n6dw4w292g35z3mjs2whn_qm0000gn/T/RackMultipart20260211-85135-5cotlr.png>, @content_type="image/png", @original_filename="Screenshot_2026-02-02_at_16.55.51.png", @headers="Content-Disposition: form-data; name=\"deposit[slip]\"; filename=\"Screenshot_2026-02-02_at_16.55.51.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Submit Deposit"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
[31mUnpermitted parameter: :account_type. Context: { controller: DepositsController, action: create, request: #<ActionDispatch::Request:0x000000010df4ad18>, params: {"authenticity_token"=>"[FILTERED]", "deposit"=>{"account_type"=>"SavingsAccount", "amount"=>"200", "slip"=>#<ActionDispatch::Http::UploadedFile:0x000000010df48ce8 @tempfile=#<Tempfile:/var/folders/sk/n6dw4w292g35z3mjs2whn_qm0000gn/T/RackMultipart20260211-85135-5cotlr.png>, @content_type="image/png", @original_filename="Screenshot_2026-02-02_at_16.55.51.png", @headers="Content-Disposition: form-data; name=\"deposit[slip]\"; filename=\"Screenshot_2026-02-02_at_16.55.51.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Submit Deposit", "controller"=>"deposits", "action"=>"create"} }[0m
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."type" = $2 LIMIT $3[0m  [["user_id", 1], ["type", "SavingsAccount"], ["LIMIT", 1]]
  â†³ app/controllers/deposits_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mDeposit Create (121.0ms)[0m  [1m[32mINSERT INTO "deposits" ("account_id", "amount", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "200.0"], ["status", "pending"], ["created_at", "2026-02-11 15:38:07.004453"], ["updated_at", "2026-02-11 15:38:07.004453"]]
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mActiveStorage::Blob Load (80.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Deposit"], ["name", "slip"], ["LIMIT", 1]]
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Deposit"], ["name", "slip"], ["LIMIT", 1]]
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "9ncgrtikr29lrfgj0o57tyszitce"], ["filename", "Screenshot_2026-02-02_at_16.55.51.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 519612], ["checksum", "H8OSKkZrz3+alUB1ZXYRmw=="], ["created_at", "2026-02-11 15:38:07.232636"]]
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "slip"], ["record_type", "Deposit"], ["record_id", 1], ["blob_id", 1], ["created_at", "2026-02-11 15:38:07.234482"]]
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mDeposit Update (14.5ms)[0m  [1m[33mUPDATE "deposits" SET "updated_at" = $1 WHERE "deposits"."id" = $2[0m  [["updated_at", "2026-02-11 15:38:07.235889"], ["id", 1]]
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/deposits_controller.rb:10:in `create'
[36m  Disk Storage (1.8ms) [0m[32mUploaded file to key: 9ncgrtikr29lrfgj0o57tyszitce (checksum: H8OSKkZrz3+alUB1ZXYRmw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e2967fbc-312c-4f1b-89ae-b06f02c0c5f0) to Async(default) with arguments: #<GlobalID:0x000000010d9eb2c8 @uri=#<URI::GID gid://financial-trust/ActiveStorage::Blob/1>>
[ActiveJob] â†³ app/controllers/deposits_controller.rb:10:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 432ms (ActiveRecord: 331.1ms (8 queries, 0 cached) | GC: 13.4ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 22:38:07 +0700
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2967fbc-312c-4f1b-89ae-b06f02c0c5f0]   [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2967fbc-312c-4f1b-89ae-b06f02c0c5f0] Performing ActiveStorage::AnalyzeJob (Job ID: e2967fbc-312c-4f1b-89ae-b06f02c0c5f0) from Async(default) enqueued at 2026-02-11T15:38:07.272306000Z with arguments: #<GlobalID:0x000000010da5b910 @uri=#<URI::GID gid://financial-trust/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2967fbc-312c-4f1b-89ae-b06f02c0c5f0] Skipping image analysis because the ruby-vips gem isn't installed
Processing by DashboardsController#show as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2967fbc-312c-4f1b-89ae-b06f02c0c5f0]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2967fbc-312c-4f1b-89ae-b06f02c0c5f0]   [1m[36mActiveStorage::Blob Update (1.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2967fbc-312c-4f1b-89ae-b06f02c0c5f0]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = $1[0m  [["blob_id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2967fbc-312c-4f1b-89ae-b06f02c0c5f0]   [1m[36mDeposit Load (0.2ms)[0m  [1m[34mSELECT "deposits".* FROM "deposits" WHERE "deposits"."id" = $1[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2967fbc-312c-4f1b-89ae-b06f02c0c5f0]   [1m[36mDeposit Update (0.2ms)[0m  [1m[33mUPDATE "deposits" SET "updated_at" = $1 WHERE "deposits"."id" = $2[0m  [["updated_at", "2026-02-11 15:38:07.830558"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2967fbc-312c-4f1b-89ae-b06f02c0c5f0]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e2967fbc-312c-4f1b-89ae-b06f02c0c5f0] Performed ActiveStorage::AnalyzeJob (Job ID: e2967fbc-312c-4f1b-89ae-b06f02c0c5f0) from Async(default) in 555.25ms
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.3ms | GC: 0.2ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.3ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 1]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 2]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.0ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.4ms)
Completed 200 OK in 37ms (Views: 5.1ms | ActiveRecord: 5.6ms (6 queries, 0 cached) | GC: 1.4ms)


Started GET "/deposits/new" for 127.0.0.1 at 2026-02-11 22:39:59 +0700
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DepositsController#new as HTML
  [1m[36mUser Load (6.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
DEPRECATION WARNING: Defining enums with keyword arguments is deprecated and will be removed
in Rails 8.0. Positional arguments should be used instead:

enum :status, {:pending=>"pending", :approved=>"approved", :rejected=>"rejected"}
 (called from <class:Deposit> at /Users/americano/dev/ruby/billionare-kit/app/models/deposit.rb:8)
  Rendering layout layouts/application.html.erb
  Rendering deposits/new.html.erb within layouts/application
  Rendered deposits/new.html.erb within layouts/application (Duration: 8.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 27.1ms | GC: 0.5ms)
Completed 200 OK in 160ms (Views: 28.7ms | ActiveRecord: 51.1ms (1 query, 0 cached) | GC: 7.2ms)


Started POST "/deposits" for 127.0.0.1 at 2026-02-11 22:40:09 +0700
Processing by DepositsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "deposit"=>{"account_type"=>"SavingsAccount", "amount"=>"200", "slip"=>#<ActionDispatch::Http::UploadedFile:0x000000010efc1d68 @tempfile=#<Tempfile:/var/folders/sk/n6dw4w292g35z3mjs2whn_qm0000gn/T/RackMultipart20260211-85473-u88h44.png>, @content_type="image/png", @original_filename="Screenshot_2026-02-02_at_16.55.51.png", @headers="Content-Disposition: form-data; name=\"deposit[slip]\"; filename=\"Screenshot_2026-02-02_at_16.55.51.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Submit Deposit"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Completed 500 Internal Server Error in 33ms (ActiveRecord: 4.3ms (1 query, 0 cached) | GC: 0.0ms)


  
ActiveModel::UnknownAttributeError (unknown attribute 'account_type' for Deposit.

          raise UnknownAttributeError.new(self, k.to_s)
          ^^^^^):

Causes:
NoMethodError (undefined method `account_type=' for #<Deposit id: nil, account_id: nil, amount: 0.2e3, status: "pending", created_at: nil, updated_at: nil>
Did you mean?  account_id=)
  
app/controllers/deposits_controller.rb:7:in `create'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2026-02-11 23:04:47 +0700
  [1m[36mActiveRecord::SchemaMigration Load (3.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (4.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 234ms (ActiveRecord: 72.8ms (1 query, 0 cached) | GC: 1.3ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-11 23:04:47 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 4.5ms | GC: 0.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | GC: 1.1ms)
Completed 200 OK in 30ms (Views: 24.7ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 1.4ms)


Started POST "/session" for 127.0.0.1 at 2026-02-11 23:04:56 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Alice", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (22.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Alice"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 376ms (ActiveRecord: 90.2ms (1 query, 0 cached) | GC: 0.6ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 23:04:56 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (3.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 2.7ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (2.9ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 1]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  [1m[36mLedgerEntry Load (0.2ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 2]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 65.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 68.5ms | GC: 0.0ms)
Completed 200 OK in 90ms (Views: 63.1ms | ActiveRecord: 12.0ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/deposits/new" for 127.0.0.1 at 2026-02-11 23:05:02 +0700
Processing by DepositsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
DEPRECATION WARNING: Defining enums with keyword arguments is deprecated and will be removed
in Rails 8.0. Positional arguments should be used instead:

enum :status, {:pending=>"pending", :approved=>"approved", :rejected=>"rejected"}
 (called from <class:Deposit> at /Users/americano/dev/ruby/billionare-kit/app/models/deposit.rb:8)
  Rendering layout layouts/application.html.erb
  Rendering deposits/new.html.erb within layouts/application
  Rendered deposits/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 47ms (Views: 3.6ms | ActiveRecord: 8.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/deposits/new" for 127.0.0.1 at 2026-02-11 23:05:07 +0700
Processing by DepositsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering deposits/new.html.erb within layouts/application
  Rendered deposits/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 6.2ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 23:05:10 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.2ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 1]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  [1m[36mLedgerEntry Load (0.2ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 2]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 9.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 10.2ms | ActiveRecord: 2.0ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/deposits/new" for 127.0.0.1 at 2026-02-11 23:05:21 +0700
Processing by DepositsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering deposits/new.html.erb within layouts/application
  Rendered deposits/new.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 20.7ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/deposits" for 127.0.0.1 at 2026-02-11 23:05:37 +0700
Processing by DepositsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "deposit"=>{"account_type"=>"InvestingAccount", "amount"=>"200", "slip"=>#<ActionDispatch::Http::UploadedFile:0x000000010dd2a628 @tempfile=#<Tempfile:/var/folders/sk/n6dw4w292g35z3mjs2whn_qm0000gn/T/RackMultipart20260211-88491-c8ygcd.png>, @content_type="image/png", @original_filename="Screenshot 2568-12-18 at 10.29.05.png", @headers="Content-Disposition: form-data; name=\"deposit[slip]\"; filename=\"Screenshot 2568-12-18 at 10.29.05.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Submit Deposit"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."type" = $2 LIMIT $3[0m  [["user_id", 1], ["type", "InvestingAccount"], ["LIMIT", 1]]
  â†³ app/controllers/deposits_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mDeposit Create (9.1ms)[0m  [1m[32mINSERT INTO "deposits" ("account_id", "amount", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 2], ["amount", "200.0"], ["status", "pending"], ["created_at", "2026-02-11 16:05:37.225106"], ["updated_at", "2026-02-11 16:05:37.225106"]]
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mActiveStorage::Blob Load (10.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Deposit"], ["name", "slip"], ["LIMIT", 1]]
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Deposit"], ["name", "slip"], ["LIMIT", 1]]
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mActiveStorage::Blob Create (1.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "hbcxb8do4fl0dbgsq0eaedrdljs9"], ["filename", "Screenshot 2568-12-18 at 10.29.05.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 82326], ["checksum", "E6q3yFn9Pv5Trm0kKyS55Q=="], ["created_at", "2026-02-11 16:05:37.259457"]]
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "slip"], ["record_type", "Deposit"], ["record_id", 2], ["blob_id", 2], ["created_at", "2026-02-11 16:05:37.270728"]]
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mDeposit Update (0.7ms)[0m  [1m[33mUPDATE "deposits" SET "updated_at" = $1 WHERE "deposits"."id" = $2[0m  [["updated_at", "2026-02-11 16:05:37.272125"], ["id", 2]]
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/deposits_controller.rb:10:in `create'
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: hbcxb8do4fl0dbgsq0eaedrdljs9 (checksum: E6q3yFn9Pv5Trm0kKyS55Q==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4f9891aa-0558-4252-b1cb-5fc081dab98f) to Async(default) with arguments: #<GlobalID:0x000000010ca75370 @uri=#<URI::GID gid://financial-trust/ActiveStorage::Blob/2>>
[ActiveJob] â†³ app/controllers/deposits_controller.rb:10:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 116ms (ActiveRecord: 65.9ms (8 queries, 0 cached) | GC: 7.9ms)


[ActiveJob] [ActiveStorage::AnalyzeJob] [4f9891aa-0558-4252-b1cb-5fc081dab98f]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4f9891aa-0558-4252-b1cb-5fc081dab98f] Performing ActiveStorage::AnalyzeJob (Job ID: 4f9891aa-0558-4252-b1cb-5fc081dab98f) from Async(default) enqueued at 2026-02-11T16:05:37.281917000Z with arguments: #<GlobalID:0x000000010cb3cb28 @uri=#<URI::GID gid://financial-trust/ActiveStorage::Blob/2>>
Started GET "/" for 127.0.0.1 at 2026-02-11 23:05:37 +0700
[ActiveJob] [ActiveStorage::AnalyzeJob] [4f9891aa-0558-4252-b1cb-5fc081dab98f] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [4f9891aa-0558-4252-b1cb-5fc081dab98f]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4f9891aa-0558-4252-b1cb-5fc081dab98f]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4f9891aa-0558-4252-b1cb-5fc081dab98f]   [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = $1[0m  [["blob_id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4f9891aa-0558-4252-b1cb-5fc081dab98f]   [1m[36mDeposit Load (0.1ms)[0m  [1m[34mSELECT "deposits".* FROM "deposits" WHERE "deposits"."id" = $1[0m  [["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4f9891aa-0558-4252-b1cb-5fc081dab98f]   [1m[36mDeposit Update (0.2ms)[0m  [1m[33mUPDATE "deposits" SET "updated_at" = $1 WHERE "deposits"."id" = $2[0m  [["updated_at", "2026-02-11 16:05:37.304130"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4f9891aa-0558-4252-b1cb-5fc081dab98f]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4f9891aa-0558-4252-b1cb-5fc081dab98f] Performed ActiveStorage::AnalyzeJob (Job ID: 4f9891aa-0558-4252-b1cb-5fc081dab98f) from Async(default) in 19.71ms
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.2ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 1]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 2]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 2.8ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.1ms)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 0.7ms (6 queries, 0 cached) | GC: 0.3ms)


Started GET "/deposits/new" for 127.0.0.1 at 2026-02-11 23:05:47 +0700
Processing by DepositsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering deposits/new.html.erb within layouts/application
  Rendered deposits/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | GC: 0.2ms)
Completed 200 OK in 15ms (Views: 8.6ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.2ms)


Started POST "/deposits" for 127.0.0.1 at 2026-02-11 23:05:55 +0700
Processing by DepositsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "deposit"=>{"account_type"=>"InvestingAccount", "amount"=>"50", "slip"=>#<ActionDispatch::Http::UploadedFile:0x000000010d9784f8 @tempfile=#<Tempfile:/var/folders/sk/n6dw4w292g35z3mjs2whn_qm0000gn/T/RackMultipart20260211-88491-wzkh13.png>, @content_type="image/png", @original_filename="Screenshot 2568-12-15 at 10.47.23.png", @headers="Content-Disposition: form-data; name=\"deposit[slip]\"; filename=\"Screenshot 2568-12-15 at 10.47.23.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Submit Deposit"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (44.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."type" = $2 LIMIT $3[0m  [["user_id", 1], ["type", "InvestingAccount"], ["LIMIT", 1]]
  â†³ app/controllers/deposits_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mDeposit Create (2.1ms)[0m  [1m[32mINSERT INTO "deposits" ("account_id", "amount", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 2], ["amount", "50.0"], ["status", "pending"], ["created_at", "2026-02-11 16:05:55.364792"], ["updated_at", "2026-02-11 16:05:55.364792"]]
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Deposit"], ["name", "slip"], ["LIMIT", 1]]
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Deposit"], ["name", "slip"], ["LIMIT", 1]]
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "fdlr4u0a7h2a8gse4w8fqdgm21ra"], ["filename", "Screenshot 2568-12-15 at 10.47.23.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 110644], ["checksum", "s6FDo8iRYAJAUYfOmWvpmA=="], ["created_at", "2026-02-11 16:05:55.374990"]]
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "slip"], ["record_type", "Deposit"], ["record_id", 3], ["blob_id", 3], ["created_at", "2026-02-11 16:05:55.376508"]]
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mDeposit Update (0.3ms)[0m  [1m[33mUPDATE "deposits" SET "updated_at" = $1 WHERE "deposits"."id" = $2[0m  [["updated_at", "2026-02-11 16:05:55.377582"], ["id", 3]]
  â†³ app/controllers/deposits_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/deposits_controller.rb:10:in `create'
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: fdlr4u0a7h2a8gse4w8fqdgm21ra (checksum: s6FDo8iRYAJAUYfOmWvpmA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 97c83f3a-4c19-485c-82ed-d2aaab009367) to Async(default) with arguments: #<GlobalID:0x000000010daa0e48 @uri=#<URI::GID gid://financial-trust/ActiveStorage::Blob/3>>
[ActiveJob] â†³ app/controllers/deposits_controller.rb:10:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 81ms (ActiveRecord: 49.8ms (8 queries, 0 cached) | GC: 1.3ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 23:05:55 +0700
[ActiveJob] [ActiveStorage::AnalyzeJob] [97c83f3a-4c19-485c-82ed-d2aaab009367]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [97c83f3a-4c19-485c-82ed-d2aaab009367] Performing ActiveStorage::AnalyzeJob (Job ID: 97c83f3a-4c19-485c-82ed-d2aaab009367) from Async(default) enqueued at 2026-02-11T16:05:55.381511000Z with arguments: #<GlobalID:0x000000010dad0b70 @uri=#<URI::GID gid://financial-trust/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [97c83f3a-4c19-485c-82ed-d2aaab009367] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [97c83f3a-4c19-485c-82ed-d2aaab009367]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [97c83f3a-4c19-485c-82ed-d2aaab009367]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [97c83f3a-4c19-485c-82ed-d2aaab009367]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = $1[0m  [["blob_id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [97c83f3a-4c19-485c-82ed-d2aaab009367]   [1m[36mDeposit Load (0.1ms)[0m  [1m[34mSELECT "deposits".* FROM "deposits" WHERE "deposits"."id" = $1[0m  [["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [97c83f3a-4c19-485c-82ed-d2aaab009367]   [1m[36mDeposit Update (0.2ms)[0m  [1m[33mUPDATE "deposits" SET "updated_at" = $1 WHERE "deposits"."id" = $2[0m  [["updated_at", "2026-02-11 16:05:55.396571"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [97c83f3a-4c19-485c-82ed-d2aaab009367]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [97c83f3a-4c19-485c-82ed-d2aaab009367] Performed ActiveStorage::AnalyzeJob (Job ID: 97c83f3a-4c19-485c-82ed-d2aaab009367) from Async(default) in 10.98ms
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.2ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 1]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  [1m[36mLedgerEntry Load (0.2ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 2]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.3ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.3ms)
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 0.9ms (6 queries, 0 cached) | GC: 0.4ms)


Started DELETE "/session" for 127.0.0.1 at 2026-02-11 23:06:19 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Completed 302 Found in 7ms (ActiveRecord: 0.9ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-11 23:06:19 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 9.5ms | GC: 0.0ms)
  [1m[36mUser Load (11.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 29.9ms | GC: 0.4ms)
Completed 200 OK in 33ms (Views: 20.0ms | ActiveRecord: 11.6ms (1 query, 0 cached) | GC: 0.4ms)


Started POST "/session" for 127.0.0.1 at 2026-02-11 23:06:28 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Admin", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 236ms (ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 23:06:28 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (6.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 3.1ms | GC: 0.3ms)
  [1m[36mDeposit Count (6.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | GC: 0.4ms)
Completed 200 OK in 26ms (Views: 9.5ms | ActiveRecord: 13.8ms (7 queries, 0 cached) | GC: 0.6ms)


Started GET "/admin/deposits" for 127.0.0.1 at 2026-02-11 23:06:31 +0700
Processing by Admin::DepositsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/deposits/index.html.erb within layouts/application
  [1m[36mDeposit Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "deposits" WHERE "deposits"."status" = $1 LIMIT $2[0m  [["status", "pending"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:7
  [1m[36mDeposit Load (2.1ms)[0m  [1m[34mSELECT "deposits".* FROM "deposits" WHERE "deposits"."status" = $1 ORDER BY "deposits"."created_at" DESC[0m  [["status", "pending"]]
  â†³ app/views/admin/deposits/index.html.erb:10
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:20
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Deposit"], ["name", "slip"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:26
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:29
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:20
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:20
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Deposit"], ["name", "slip"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:26
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:29
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:20
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:20
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Deposit"], ["name", "slip"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:26
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:29
  Rendered admin/deposits/index.html.erb within layouts/application (Duration: 61.7ms | GC: 27.5ms)
  [1m[36mDeposit Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 64.0ms | GC: 27.9ms)
Completed 200 OK in 75ms (Views: 62.7ms | ActiveRecord: 4.4ms (16 queries, 3 cached) | GC: 33.6ms)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsiZGF0YSI6MywicHVyIjoiYmxvYl9pZCJ9fQ==--95b17ec4b72c8cd8826e06728b5c06bc59a82255/Screenshot%202568-12-15%20at%2010.47.23.png?disposition=attachment" for 127.0.0.1 at 2026-02-11 23:06:35 +0700
Processing by ActiveStorage::Blobs::RedirectController#show as PNG
  Parameters: {"disposition"=>"attachment", "signed_id"=>"eyJfcmFpbHMiOnsiZGF0YSI6MywicHVyIjoiYmxvYl9pZCJ9fQ==--95b17ec4b72c8cd8826e06728b5c06bc59a82255", "filename"=>"Screenshot 2568-12-15 at 10.47.23"}
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (1.3ms) [0m[34mGenerated URL for file at key: fdlr4u0a7h2a8gse4w8fqdgm21ra (http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJmZGxyNHUwYTdoMmE4Z3NlNHc4ZnFkZ20yMXJhIiwiZGlzcG9zaXRpb24iOiJhdHRhY2htZW50OyBmaWxlbmFtZT1cIlNjcmVlbnNob3QgMjU2OC0xMi0xNSBhdCAxMC40Ny4yMy5wbmdcIjsgZmlsZW5hbWUqPVVURi04JydTY3JlZW5zaG90JTIwMjU2OC0xMi0xNSUyMGF0JTIwMTAuNDcuMjMucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwiZXhwIjoiMjAyNi0wMi0xMVQxNjoxMTozNS44MTJaIiwicHVyIjoiYmxvYl9rZXkifX0=--1837b773357d8cb70820a961074e3ebca433b963/Screenshot%202568-12-15%20at%2010.47.23.png)[0m
Redirected to http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJmZGxyNHUwYTdoMmE4Z3NlNHc4ZnFkZ20yMXJhIiwiZGlzcG9zaXRpb24iOiJhdHRhY2htZW50OyBmaWxlbmFtZT1cIlNjcmVlbnNob3QgMjU2OC0xMi0xNSBhdCAxMC40Ny4yMy5wbmdcIjsgZmlsZW5hbWUqPVVURi04JydTY3JlZW5zaG90JTIwMjU2OC0xMi0xNSUyMGF0JTIwMTAuNDcuMjMucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwiZXhwIjoiMjAyNi0wMi0xMVQxNjoxMTozNS44MTJaIiwicHVyIjoiYmxvYl9rZXkifX0=--1837b773357d8cb70820a961074e3ebca433b963/Screenshot%202568-12-15%20at%2010.47.23.png
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJmZGxyNHUwYTdoMmE4Z3NlNHc4ZnFkZ20yMXJhIiwiZGlzcG9zaXRpb24iOiJhdHRhY2htZW50OyBmaWxlbmFtZT1cIlNjcmVlbnNob3QgMjU2OC0xMi0xNSBhdCAxMC40Ny4yMy5wbmdcIjsgZmlsZW5hbWUqPVVURi04JydTY3JlZW5zaG90JTIwMjU2OC0xMi0xNSUyMGF0JTIwMTAuNDcuMjMucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwiZXhwIjoiMjAyNi0wMi0xMVQxNjoxMTozNS44MTJaIiwicHVyIjoiYmxvYl9rZXkifX0=--1837b773357d8cb70820a961074e3ebca433b963/Screenshot%202568-12-15%20at%2010.47.23.png" for 127.0.0.1 at 2026-02-11 23:06:35 +0700
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"Screenshot 2568-12-15 at 10.47.23"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/admin/deposits/3/approve" for 127.0.0.1 at 2026-02-11 23:06:49 +0700
Processing by Admin::DepositsController#approve as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mDeposit Load (0.4ms)[0m  [1m[34mSELECT "deposits".* FROM "deposits" WHERE "deposits"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/admin/deposits_controller.rb:8:in `approve'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/deposits_controller.rb:11:in `block in approve'
  [1m[36mDeposit Update (0.9ms)[0m  [1m[33mUPDATE "deposits" SET "status" = $1, "updated_at" = $2 WHERE "deposits"."id" = $3[0m  [["status", "approved"], ["updated_at", "2026-02-11 16:06:49.543165"], ["id", 3]]
  â†³ app/controllers/admin/deposits_controller.rb:11:in `block in approve'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/deposits_controller.rb:14:in `block in approve'
  [1m[36mInvestingAccount Load (1.9ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "InvestingAccount"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/deposits_controller.rb:15:in `block in approve'
  [1m[36mInvestingAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "250.0"], ["updated_at", "2026-02-11 16:06:49.612805"], ["id", 2]]
  â†³ app/controllers/admin/deposits_controller.rb:17:in `block (2 levels) in approve'
  [1m[36mLedgerEntry Create (14.9ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 2], ["amount", "50.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-11 16:06:49.614240"], ["updated_at", "2026-02-11 16:06:49.614240"]]
  â†³ app/controllers/admin/deposits_controller.rb:19:in `block (2 levels) in approve'
  [1m[36mTRANSACTION (19.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/admin/deposits_controller.rb:10:in `approve'
  Rendered accounts/_balance.html.erb (Duration: 1.0ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_investing_account_2\"><template><div id=\"balance_investing_account_2\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $250.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/admin/deposits
Completed 302 Found in 156ms (ActiveRecord: 95.0ms (7 queries, 0 cached) | GC: 2.5ms)


Started GET "/admin/deposits" for 127.0.0.1 at 2026-02-11 23:06:49 +0700
Processing by Admin::DepositsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/deposits/index.html.erb within layouts/application
  [1m[36mDeposit Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "deposits" WHERE "deposits"."status" = $1 LIMIT $2[0m  [["status", "pending"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:7
  [1m[36mDeposit Load (0.2ms)[0m  [1m[34mSELECT "deposits".* FROM "deposits" WHERE "deposits"."status" = $1 ORDER BY "deposits"."created_at" DESC[0m  [["status", "pending"]]
  â†³ app/views/admin/deposits/index.html.erb:10
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:20
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Deposit"], ["name", "slip"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:26
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:29
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:20
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:20
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Deposit"], ["name", "slip"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:26
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:29
  Rendered admin/deposits/index.html.erb within layouts/application (Duration: 12.3ms | GC: 0.6ms)
  [1m[36mDeposit Count (21.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 38.0ms | GC: 0.6ms)
Completed 200 OK in 39ms (Views: 15.4ms | ActiveRecord: 22.9ms (12 queries, 1 cached) | GC: 0.8ms)


Started PATCH "/admin/deposits/2/approve" for 127.0.0.1 at 2026-02-11 23:06:50 +0700
Processing by Admin::DepositsController#approve as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mDeposit Load (0.2ms)[0m  [1m[34mSELECT "deposits".* FROM "deposits" WHERE "deposits"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/deposits_controller.rb:8:in `approve'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/deposits_controller.rb:11:in `block in approve'
  [1m[36mDeposit Update (0.7ms)[0m  [1m[33mUPDATE "deposits" SET "status" = $1, "updated_at" = $2 WHERE "deposits"."id" = $3[0m  [["status", "approved"], ["updated_at", "2026-02-11 16:06:50.637646"], ["id", 2]]
  â†³ app/controllers/admin/deposits_controller.rb:11:in `block in approve'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/deposits_controller.rb:14:in `block in approve'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "InvestingAccount"], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/deposits_controller.rb:15:in `block in approve'
  [1m[36mInvestingAccount Update (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "450.0"], ["updated_at", "2026-02-11 16:06:50.640234"], ["id", 2]]
  â†³ app/controllers/admin/deposits_controller.rb:17:in `block (2 levels) in approve'
  [1m[36mLedgerEntry Create (0.3ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 2], ["amount", "200.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-11 16:06:50.641258"], ["updated_at", "2026-02-11 16:06:50.641258"]]
  â†³ app/controllers/admin/deposits_controller.rb:19:in `block (2 levels) in approve'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/admin/deposits_controller.rb:10:in `approve'
  Rendered accounts/_balance.html.erb (Duration: 0.5ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_investing_account_2\"><template><div id=\"balance_investing_account_2\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $450.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/admin/deposits
Completed 302 Found in 11ms (ActiveRecord: 2.1ms (7 queries, 0 cached) | GC: 0.8ms)


Started GET "/admin/deposits" for 127.0.0.1 at 2026-02-11 23:06:50 +0700
Processing by Admin::DepositsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/deposits/index.html.erb within layouts/application
  [1m[36mDeposit Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "deposits" WHERE "deposits"."status" = $1 LIMIT $2[0m  [["status", "pending"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:7
  [1m[36mDeposit Load (0.2ms)[0m  [1m[34mSELECT "deposits".* FROM "deposits" WHERE "deposits"."status" = $1 ORDER BY "deposits"."created_at" DESC[0m  [["status", "pending"]]
  â†³ app/views/admin/deposits/index.html.erb:10
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:20
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Deposit"], ["name", "slip"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:26
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:29
  Rendered admin/deposits/index.html.erb within layouts/application (Duration: 4.5ms | GC: 0.3ms)
  [1m[36mDeposit Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | GC: 0.4ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 1.0ms (8 queries, 0 cached) | GC: 0.5ms)


Started PATCH "/admin/deposits/1/approve" for 127.0.0.1 at 2026-02-11 23:06:51 +0700
Processing by Admin::DepositsController#approve as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mDeposit Load (0.2ms)[0m  [1m[34mSELECT "deposits".* FROM "deposits" WHERE "deposits"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/admin/deposits_controller.rb:8:in `approve'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/deposits_controller.rb:11:in `block in approve'
  [1m[36mDeposit Update (1.7ms)[0m  [1m[33mUPDATE "deposits" SET "status" = $1, "updated_at" = $2 WHERE "deposits"."id" = $3[0m  [["status", "approved"], ["updated_at", "2026-02-11 16:06:51.379567"], ["id", 1]]
  â†³ app/controllers/admin/deposits_controller.rb:11:in `block in approve'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/admin/deposits_controller.rb:14:in `block in approve'
  [1m[36mSavingsAccount Load (0.3ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/admin/deposits_controller.rb:15:in `block in approve'
  [1m[36mSavingsAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "1100.0"], ["updated_at", "2026-02-11 16:06:51.387157"], ["id", 1]]
  â†³ app/controllers/admin/deposits_controller.rb:17:in `block (2 levels) in approve'
  [1m[36mLedgerEntry Create (0.2ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "200.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-11 16:06:51.388234"], ["updated_at", "2026-02-11 16:06:51.388234"]]
  â†³ app/controllers/admin/deposits_controller.rb:19:in `block (2 levels) in approve'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/admin/deposits_controller.rb:10:in `approve'
  Rendered accounts/_balance.html.erb (Duration: 0.4ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_1\"><template><div id=\"balance_savings_account_1\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $1,100.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/admin/deposits
Completed 302 Found in 16ms (ActiveRecord: 3.3ms (7 queries, 0 cached) | GC: 0.7ms)


Started GET "/admin/deposits" for 127.0.0.1 at 2026-02-11 23:06:51 +0700
Processing by Admin::DepositsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/deposits/index.html.erb within layouts/application
  [1m[36mDeposit Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "deposits" WHERE "deposits"."status" = $1 LIMIT $2[0m  [["status", "pending"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:7
  Rendered admin/deposits/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.2ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 0.2ms)


Started DELETE "/session" for 127.0.0.1 at 2026-02-11 23:06:52 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Completed 302 Found in 6ms (ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 0.4ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-11 23:06:52 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.2ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.2ms)


Started POST "/session" for 127.0.0.1 at 2026-02-11 23:06:59 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Alice", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Alice"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 194ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 23:06:59 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 1]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  [1m[36mLedgerEntry Load (0.2ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 2]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 3.6ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.4ms)
Completed 200 OK in 8ms (Views: 4.5ms | ActiveRecord: 1.1ms (6 queries, 0 cached) | GC: 0.4ms)


  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (3.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mLedgerEntry Load (0.4ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 1]]
  [1m[36mLedgerEntry Destroy (0.5ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 1]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 2]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 3]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 7]]
  [1m[36mSavingsAccount Destroy (3.8ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (83.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_development"[0m
  [1m[35m (43.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_test"[0m
  [1m[35m (110.1ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (49.5ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (22.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (20.5ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "interest_rate" decimal(10,4) DEFAULT 0.0 NOT NULL, "name" character varying)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "deposits" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "deposits" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "status" character varying DEFAULT 'pending' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_deposits_on_account_id" ON "deposits" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying, "admin" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "deposits" ADD CONSTRAINT "fk_rails_869f62908d"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20260211153609)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240211230000),
(20240211220000),
(20240210050000),
(20240210040000),
(20240210030000),
(20240210020000),
(20240210010000),
(20240210000000);[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-11 16:38:14.823030', '2026-02-11 16:38:14.823031') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '5b69ff7484d94abd39f29bcea97249070430b648', '2026-02-11 16:38:14.824103', '2026-02-11 16:38:14.824103') RETURNING "key"[0m
  [1m[35mSQL (8.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "interest_rate" decimal(10,4) DEFAULT 0.0 NOT NULL, "name" character varying)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying, "created_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "deposits" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "deposits" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "status" character varying DEFAULT 'pending' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_deposits_on_account_id" ON "deposits" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying, "admin" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "deposits" ADD CONSTRAINT "fk_rails_869f62908d"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20260211153609)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240211230000),
(20240211220000),
(20240210050000),
(20240210040000),
(20240210030000),
(20240210020000),
(20240210010000),
(20240210000000);[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-11 16:38:14.871195', '2026-02-11 16:38:14.871196') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2026-02-11 16:38:14.872054' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '5b69ff7484d94abd39f29bcea97249070430b648', '2026-02-11 16:38:14.872692', '2026-02-11 16:38:14.872693') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Alice"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-11 16:38:15.081107"], ["updated_at", "2026-02-11 16:38:15.081107"], ["password_digest", "[FILTERED]"], ["admin", false]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["created_at", "2026-02-11 16:38:15.265193"], ["updated_at", "2026-02-11 16:38:15.265193"], ["password_digest", "[FILTERED]"], ["admin", true]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSavingsAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  [1m[36mSavingsAccount Create (1.5ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate", "name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-11 16:38:15.281534"], ["updated_at", "2026-02-11 16:38:15.281534"], ["interest_rate", "0.0"], ["name", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  [1m[36mInvestingAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate", "name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["type", "InvestingAccount"], ["balance", "1000.0"], ["created_at", "2026-02-11 16:38:15.286617"], ["updated_at", "2026-02-11 16:38:15.286617"], ["interest_rate", "5.0"], ["name", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLedgerEntry Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1 LIMIT $2[0m  [["account_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLedgerEntry Create (1.0ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 2], ["amount", "1000.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-11 16:38:15.295509"], ["updated_at", "2026-02-11 16:38:15.295509"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mLedgerEntry Load (0.5ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 1]]
  [1m[36mSavingsAccount Destroy (0.9ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 1]]
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 2]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 1]]
  [1m[36mInvestingAccount Destroy (0.2ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 2]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Alice"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-11 16:38:23.857093"], ["updated_at", "2026-02-11 16:38:23.857093"], ["password_digest", "[FILTERED]"], ["admin", false]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["created_at", "2026-02-11 16:38:24.033796"], ["updated_at", "2026-02-11 16:38:24.033796"], ["password_digest", "[FILTERED]"], ["admin", true]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 3], ["LIMIT", 1]]
  [1m[36mSavingsAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate", "name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 3], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-11 16:38:24.037781"], ["updated_at", "2026-02-11 16:38:24.037781"], ["interest_rate", "0.0"], ["name", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 3], ["LIMIT", 1]]
  [1m[36mInvestingAccount Create (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate", "name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 3], ["type", "InvestingAccount"], ["balance", "1000.0"], ["created_at", "2026-02-11 16:38:24.040207"], ["updated_at", "2026-02-11 16:38:24.040207"], ["interest_rate", "5.0"], ["name", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mLedgerEntry Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1 LIMIT $2[0m  [["account_id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mLedgerEntry Create (0.6ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 4], ["amount", "1000.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-11 16:38:24.041668"], ["updated_at", "2026-02-11 16:38:24.041668"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2026-02-11 23:38:35 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 26ms (ActiveRecord: 8.9ms (1 query, 0 cached) | GC: 0.6ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-11 23:38:35 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | GC: 1.0ms)
Completed 200 OK in 22ms (Views: 19.2ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 1.1ms)


Started POST "/session" for 127.0.0.1 at 2026-02-11 23:38:44 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Alice", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Alice"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 254ms (ActiveRecord: 3.4ms (1 query, 0 cached) | GC: 0.4ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 23:38:44 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 2.8ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/dashboards/show.html.erb:42
  [1m[36mLedgerEntry Load (0.5ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  â†³ app/views/dashboards/show.html.erb:73:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 15.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 14.7ms | ActiveRecord: 6.0ms (6 queries, 0 cached) | GC: 0.1ms)


Started GET "/deposits/new" for 127.0.0.1 at 2026-02-11 23:38:53 +0700
Processing by DepositsController#new as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
DEPRECATION WARNING: Defining enums with keyword arguments is deprecated and will be removed
in Rails 8.0. Positional arguments should be used instead:

enum :status, {:pending=>"pending", :approved=>"approved", :rejected=>"rejected"}
 (called from <class:Deposit> at /Users/americano/dev/ruby/billionare-kit/app/models/deposit.rb:8)
  Rendering layout layouts/application.html.erb
  Rendering deposits/new.html.erb within layouts/application
  Rendered deposits/new.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 3.7ms | ActiveRecord: 3.9ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/session" for 127.0.0.1 at 2026-02-11 23:38:55 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Completed 302 Found in 6ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-11 23:38:55 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-11 23:39:01 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Admin", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 206ms (Views: 2.3ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-11 23:39:08 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Admin", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 187ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 23:39:08 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/dashboards/show.html.erb:42
  Rendered dashboards/show.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  [1m[36mDeposit Count (5.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 2.6ms | ActiveRecord: 5.6ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/deposits" for 127.0.0.1 at 2026-02-11 23:39:11 +0700
Processing by Admin::DepositsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/deposits/index.html.erb within layouts/application
  [1m[36mDeposit Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "deposits" WHERE "deposits"."status" = $1 LIMIT $2[0m  [["status", "pending"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:7
  Rendered admin/deposits/index.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 8.1ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-11 23:39:14 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 10.2ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 14.1ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/deposits" for 127.0.0.1 at 2026-02-11 23:39:15 +0700
Processing by Admin::DepositsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/deposits/index.html.erb within layouts/application
  [1m[36mDeposit Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "deposits" WHERE "deposits"."status" = $1 LIMIT $2[0m  [["status", "pending"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:7
  Rendered admin/deposits/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-11 23:39:16 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin/accounts/payout_interest" for 127.0.0.1 at 2026-02-11 23:39:18 +0700
Processing by Admin::AccountsController#payout_interest as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/interest_calculation_service.rb:4:in `block in call'
  [1m[36mAccount Load (8.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (interest_rate > 0) ORDER BY "accounts"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/services/interest_calculation_service.rb:4:in `block in call'
  [1m[36mInvestingAccount Load (0.6ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "InvestingAccount"], ["id", 4], ["LIMIT", 1]]
  â†³ app/services/interest_calculation_service.rb:18:in `calculate_interest_for'
  [1m[36mInvestingAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "1050.0"], ["updated_at", "2026-02-11 16:39:18.857092"], ["id", 4]]
  â†³ app/services/interest_calculation_service.rb:20:in `block in calculate_interest_for'
  [1m[36mLedgerEntry Create (0.3ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 4], ["amount", "50.0"], ["entry_type", "interest"], ["created_at", "2026-02-11 16:39:18.860356"], ["updated_at", "2026-02-11 16:39:18.860356"]]
  â†³ app/services/interest_calculation_service.rb:22:in `block in calculate_interest_for'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/interest_calculation_service.rb:3:in `call'
  Rendered accounts/_balance.html.erb (Duration: 0.5ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_3_dashboard: "<turbo-stream action=\"replace\" target=\"balance_investing_account_4\"><template><div id=\"balance_investing_account_4\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $1,050.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/admin/accounts/new
Completed 302 Found in 40ms (ActiveRecord: 16.6ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-11 23:39:18 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin/accounts/payout_interest" for 127.0.0.1 at 2026-02-11 23:39:20 +0700
Processing by Admin::AccountsController#payout_interest as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/interest_calculation_service.rb:4:in `block in call'
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE (interest_rate > 0) ORDER BY "accounts"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/services/interest_calculation_service.rb:4:in `block in call'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "InvestingAccount"], ["id", 4], ["LIMIT", 1]]
  â†³ app/services/interest_calculation_service.rb:18:in `calculate_interest_for'
  [1m[36mInvestingAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "1102.5"], ["updated_at", "2026-02-11 16:39:20.690174"], ["id", 4]]
  â†³ app/services/interest_calculation_service.rb:20:in `block in calculate_interest_for'
  [1m[36mLedgerEntry Create (0.3ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 4], ["amount", "52.5"], ["entry_type", "interest"], ["created_at", "2026-02-11 16:39:20.691725"], ["updated_at", "2026-02-11 16:39:20.691725"]]
  â†³ app/services/interest_calculation_service.rb:22:in `block in calculate_interest_for'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/interest_calculation_service.rb:3:in `call'
  Rendered accounts/_balance.html.erb (Duration: 0.3ms | GC: 0.1ms)
[ActionCable] Broadcasting to user_3_dashboard: "<turbo-stream action=\"replace\" target=\"balance_investing_account_4\"><template><div id=\"balance_investing_account_4\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $1,102.50\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/admin/accounts/new
Completed 302 Found in 25ms (ActiveRecord: 2.2ms (5 queries, 0 cached) | GC: 15.0ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-11 23:39:20 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.1ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/admin/deposits" for 127.0.0.1 at 2026-02-11 23:39:25 +0700
Processing by Admin::DepositsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/deposits/index.html.erb within layouts/application
  [1m[36mDeposit Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "deposits" WHERE "deposits"."status" = $1 LIMIT $2[0m  [["status", "pending"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:7
  Rendered admin/deposits/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  [1m[36mDeposit Count (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | GC: 0.3ms)
Completed 200 OK in 18ms (Views: 12.6ms | ActiveRecord: 2.2ms (3 queries, 0 cached) | GC: 0.7ms)


Started GET "/admin/deposits" for 127.0.0.1 at 2026-02-11 23:44:44 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::DepositsController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
DEPRECATION WARNING: Defining enums with keyword arguments is deprecated and will be removed
in Rails 8.0. Positional arguments should be used instead:

enum :status, {:pending=>"pending", :approved=>"approved", :rejected=>"rejected"}
 (called from <class:Deposit> at /Users/americano/dev/ruby/billionare-kit/app/models/deposit.rb:8)
  Rendering layout layouts/application.html.erb
  Rendering admin/deposits/index.html.erb within layouts/application
  [1m[36mDeposit Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "deposits" WHERE "deposits"."status" = $1 LIMIT $2[0m  [["status", "pending"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:7
  Rendered admin/deposits/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.1ms)
  [1m[36mDeposit Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | GC: 0.7ms)
Completed 200 OK in 60ms (Views: 15.5ms | ActiveRecord: 13.7ms (3 queries, 0 cached) | GC: 6.3ms)


Started GET "/admin/deposits" for 127.0.0.1 at 2026-02-11 23:44:47 +0700
Processing by Admin::DepositsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/deposits/index.html.erb within layouts/application
  [1m[36mDeposit Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "deposits" WHERE "deposits"."status" = $1 LIMIT $2[0m  [["status", "pending"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:7
  Rendered admin/deposits/index.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.0ms)
Completed 200 OK in 12ms (Views: 6.1ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts" for 127.0.0.1 at 2026-02-11 23:44:48 +0700
Processing by Admin::AccountsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (1.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."created_at" DESC[0m
  â†³ app/views/admin/accounts/index.html.erb:25
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  â†³ app/views/admin/accounts/index.html.erb:25
  Rendered admin/accounts/index.html.erb within layouts/application (Duration: 17.5ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | GC: 0.0ms)
Completed 200 OK in 42ms (Views: 16.3ms | ActiveRecord: 16.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/4" for 127.0.0.1 at 2026-02-11 23:44:54 +0700
Processing by Admin::AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:36:in `show'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/admin/accounts/show.html.erb:5
  [1m[36mLedgerEntry Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  â†³ app/views/admin/accounts/show.html.erb:30
  [1m[36mLedgerEntry Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1 LIMIT $2[0m  [["account_id", 4], ["LIMIT", 1]]
  â†³ app/views/admin/accounts/show.html.erb:33
  [1m[36mLedgerEntry Load (0.2ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1 ORDER BY "ledger_entries"."created_at" DESC[0m  [["account_id", 4]]
  â†³ app/views/admin/accounts/show.html.erb:44
  Rendered admin/accounts/show.html.erb within layouts/application (Duration: 8.1ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | GC: 0.0ms)
Completed 200 OK in 52ms (Views: 9.2ms | ActiveRecord: 5.1ms (7 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts" for 127.0.0.1 at 2026-02-11 23:45:01 +0700
Processing by Admin::AccountsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."created_at" DESC[0m
  â†³ app/views/admin/accounts/index.html.erb:25
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  â†³ app/views/admin/accounts/index.html.erb:25
  Rendered admin/accounts/index.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 9.2ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/4" for 127.0.0.1 at 2026-02-11 23:45:11 +0700
Processing by Admin::AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:36:in `show'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/admin/accounts/show.html.erb:5
  [1m[36mLedgerEntry Count (11.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  â†³ app/views/admin/accounts/show.html.erb:30
  [1m[36mLedgerEntry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1 LIMIT $2[0m  [["account_id", 4], ["LIMIT", 1]]
  â†³ app/views/admin/accounts/show.html.erb:33
  [1m[36mLedgerEntry Load (11.4ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1 ORDER BY "ledger_entries"."created_at" DESC[0m  [["account_id", 4]]
  â†³ app/views/admin/accounts/show.html.erb:44
  Rendered admin/accounts/show.html.erb within layouts/application (Duration: 32.8ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 38.0ms | GC: 0.0ms)
Completed 200 OK in 60ms (Views: 15.7ms | ActiveRecord: 24.5ms (7 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/deposits" for 127.0.0.1 at 2026-02-11 23:45:15 +0700
Processing by Admin::DepositsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/deposits/index.html.erb within layouts/application
  [1m[36mDeposit Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "deposits" WHERE "deposits"."status" = $1 LIMIT $2[0m  [["status", "pending"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:7
  Rendered admin/deposits/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:34
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 9.2ms | ActiveRecord: 1.2ms (3 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/session" for 127.0.0.1 at 2026-02-11 23:45:17 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-11 23:45:17 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 4.9ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-11 23:45:44 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Alice", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Alice"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 263ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 23:45:44 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/dashboards/show.html.erb:52
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  â†³ app/views/dashboards/show.html.erb:83:in `flat_map'
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  â†³ app/views/dashboards/show.html.erb:83:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 8.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 10.5ms | ActiveRecord: 0.9ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/accounts/4" for 127.0.0.1 at 2026-02-11 23:46:03 +0700
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/accounts_controller.rb:23:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/show.html.erb within layouts/application
  [1m[36mLedgerEntry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1 LIMIT $2[0m  [["account_id", 4], ["LIMIT", 1]]
  â†³ app/views/accounts/show.html.erb:26
  [1m[36mLedgerEntry Load (0.3ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1 ORDER BY "ledger_entries"."created_at" DESC[0m  [["account_id", 4]]
  â†³ app/views/accounts/show.html.erb:37
  Rendered accounts/show.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | GC: 0.0ms)
Completed 200 OK in 51ms (Views: 6.5ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 23:46:18 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 2.3ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/dashboards/show.html.erb:52
  [1m[36mLedgerEntry Load (0.2ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  â†³ app/views/dashboards/show.html.erb:83:in `flat_map'
  [1m[36mLedgerEntry Load (0.2ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  â†³ app/views/dashboards/show.html.erb:83:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 21.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 25.9ms | GC: 0.0ms)
Completed 200 OK in 54ms (Views: 34.5ms | ActiveRecord: 2.2ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/accounts/3" for 127.0.0.1 at 2026-02-11 23:46:20 +0700
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/accounts_controller.rb:23:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/show.html.erb within layouts/application
  [1m[36mLedgerEntry Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1 LIMIT $2[0m  [["account_id", 3], ["LIMIT", 1]]
  â†³ app/views/accounts/show.html.erb:26
  Rendered accounts/show.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.8ms)
Completed 200 OK in 14ms (Views: 6.1ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 1.7ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 23:46:21 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/dashboards/show.html.erb:52
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  â†³ app/views/dashboards/show.html.erb:83:in `flat_map'
  [1m[36mLedgerEntry Load (0.2ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  â†³ app/views/dashboards/show.html.erb:83:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 6.1ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 0.6ms)
Completed 200 OK in 21ms (Views: 7.7ms | ActiveRecord: 2.0ms (6 queries, 0 cached) | GC: 1.7ms)


Started GET "/accounts/4" for 127.0.0.1 at 2026-02-11 23:46:23 +0700
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/accounts_controller.rb:23:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/show.html.erb within layouts/application
  [1m[36mLedgerEntry Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1 LIMIT $2[0m  [["account_id", 4], ["LIMIT", 1]]
  â†³ app/views/accounts/show.html.erb:26
  [1m[36mLedgerEntry Load (0.4ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1 ORDER BY "ledger_entries"."created_at" DESC[0m  [["account_id", 4]]
  â†³ app/views/accounts/show.html.erb:37
  Rendered accounts/show.html.erb within layouts/application (Duration: 6.0ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | GC: 0.4ms)
Completed 200 OK in 16ms (Views: 8.2ms | ActiveRecord: 2.0ms (4 queries, 0 cached) | GC: 0.8ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 23:46:35 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/dashboards/show.html.erb:52
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  â†³ app/views/dashboards/show.html.erb:83:in `flat_map'
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  â†³ app/views/dashboards/show.html.erb:83:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 9.1ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | GC: 0.4ms)
Completed 200 OK in 47ms (Views: 11.1ms | ActiveRecord: 1.8ms (6 queries, 0 cached) | GC: 2.4ms)


Started GET "/accounts/4" for 127.0.0.1 at 2026-02-11 23:46:56 +0700
Processing by AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (1.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 3], ["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/accounts_controller.rb:23:in `set_account'
  Rendering layout layouts/application.html.erb
  Rendering accounts/show.html.erb within layouts/application
  [1m[36mLedgerEntry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1 LIMIT $2[0m  [["account_id", 4], ["LIMIT", 1]]
  â†³ app/views/accounts/show.html.erb:26
  [1m[36mLedgerEntry Load (0.2ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1 ORDER BY "ledger_entries"."created_at" DESC[0m  [["account_id", 4]]
  â†³ app/views/accounts/show.html.erb:37
  Rendered accounts/show.html.erb within layouts/application (Duration: 3.8ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.2ms)
Completed 200 OK in 23ms (Views: 6.1ms | ActiveRecord: 2.9ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 23:47:04 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/dashboards/show.html.erb:52
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  â†³ app/views/dashboards/show.html.erb:83:in `flat_map'
  [1m[36mLedgerEntry Load (0.2ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  â†³ app/views/dashboards/show.html.erb:83:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 23.5ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 25.9ms | GC: 0.6ms)
Completed 200 OK in 34ms (Views: 26.0ms | ActiveRecord: 1.3ms (6 queries, 0 cached) | GC: 0.9ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 23:52:52 +0700
  [1m[36mActiveRecord::SchemaMigration Load (12.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.3ms | GC: 0.1ms)
  Rendered accounts/_balance.html.erb (Duration: 3.6ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/dashboards/show.html.erb:61:in `flat_map'
  [1m[36mLedgerEntry Load (0.7ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  â†³ app/views/dashboards/show.html.erb:61:in `flat_map'
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  â†³ app/views/dashboards/show.html.erb:61:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 15.9ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 27.5ms | GC: 0.3ms)
Completed 200 OK in 77ms (Views: 25.4ms | ActiveRecord: 20.0ms (6 queries, 0 cached) | GC: 5.6ms)


Started GET "/deposits/new" for 127.0.0.1 at 2026-02-11 23:52:58 +0700
Processing by DepositsController#new as HTML
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
DEPRECATION WARNING: Defining enums with keyword arguments is deprecated and will be removed
in Rails 8.0. Positional arguments should be used instead:

enum :status, {:pending=>"pending", :approved=>"approved", :rejected=>"rejected"}
 (called from <class:Deposit> at /Users/americano/dev/ruby/billionare-kit/app/models/deposit.rb:8)
  Rendering layout layouts/application.html.erb
  Rendering deposits/new.html.erb within layouts/application
  Rendered deposits/new.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.0ms)
Completed 200 OK in 57ms (Views: 6.2ms | ActiveRecord: 20.4ms (1 query, 0 cached) | GC: 0.0ms)


Started DELETE "/session" for 127.0.0.1 at 2026-02-11 23:53:01 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-11 23:53:01 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-11 23:53:09 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Admin", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 263ms (Views: 3.6ms | ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-11 23:53:14 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Admin", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 198ms (ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 23:53:15 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered dashboards/show.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"accounts", :id=>nil}, missing required keys: [:id]):

Causes:
ActionController::UrlGenerationError (No route matches {:action=>"show", :controller=>"accounts", :id=>nil}, missing required keys: [:id])
     9:     <div class="p-6 bg-white rounded shadow">
    10:       <div class="flex justify-between items-start mb-2">
    11:         <h2 class="text-xl font-semibold">
    12:           <%= link_to "Savings Account", account_path(@savings), class: "hover:text-blue-600 hover:underline" %>
    13:         </h2>
    14:         <%= link_to "View Details", account_path(@savings), class: "text-xs text-blue-500 hover:text-blue-700" %>
    15:       </div>
  
app/views/dashboards/show.html.erb:12
Started GET "/" for 127.0.0.1 at 2026-02-11 23:55:48 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/dashboards/show.html.erb:61:in `flat_map'
  Rendered dashboards/show.html.erb within layouts/application (Duration: 2.7ms | GC: 0.1ms)
DEPRECATION WARNING: Defining enums with keyword arguments is deprecated and will be removed
in Rails 8.0. Positional arguments should be used instead:

enum :status, {:pending=>"pending", :approved=>"approved", :rejected=>"rejected"}
 (called from <class:Deposit> at /Users/americano/dev/ruby/billionare-kit/app/models/deposit.rb:8)
  [1m[36mDeposit Count (17.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 41.3ms | GC: 0.9ms)
Completed 200 OK in 88ms (Views: 22.4ms | ActiveRecord: 34.5ms (5 queries, 0 cached) | GC: 6.7ms)


Started GET "/admin/transfers/new" for 127.0.0.1 at 2026-02-11 23:55:52 +0700
Processing by Admin::TransfersController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  â†³ app/controllers/admin/transfers_controller.rb:4:in `group_by'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/admin/transfers_controller.rb:4:in `group_by'
  Rendering layout layouts/application.html.erb
  Rendering admin/transfers/new.html.erb within layouts/application
  Rendered admin/transfers/new.html.erb within layouts/application (Duration: 6.8ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | GC: 0.0ms)
Completed 200 OK in 41ms (Views: 9.6ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin/transfers" for 127.0.0.1 at 2026-02-11 23:56:04 +0700
Processing by Admin::TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"3", "target_id"=>"4", "amount"=>"20", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/admin/transfers_controller.rb:8:in `create'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/admin/transfers_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (24.0ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 3], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mInvestingAccount Load (0.3ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "InvestingAccount"], ["id", 4], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (1.7ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 3], ["amount", "-20.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-11 16:56:04.763747"], ["updated_at", "2026-02-11 16:56:04.763747"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.3ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 4], ["amount", "20.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-11 16:56:04.766738"], ["updated_at", "2026-02-11 16:56:04.766738"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mSavingsAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "980.0"], ["updated_at", "2026-02-11 16:56:04.771356"], ["id", 3]]
  â†³ app/services/internal_transfer_service.rb:30:in `block in call'
  [1m[36mInvestingAccount Update (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "1122.5"], ["updated_at", "2026-02-11 16:56:04.772766"], ["id", 4]]
  â†³ app/services/internal_transfer_service.rb:31:in `block in call'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
  Rendered accounts/_balance.html.erb (Duration: 0.3ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_3_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_3\"><template><div id=\"balance_savings_account_3\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $980.00\n</div>\n</template></turbo-stream>"
  Rendered accounts/_balance.html.erb (Duration: 0.3ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_3_dashboard: "<turbo-stream action=\"replace\" target=\"balance_investing_account_4\"><template><div id=\"balance_investing_account_4\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $1,122.50\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/admin/accounts
Completed 302 Found in 61ms (ActiveRecord: 34.5ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts" for 127.0.0.1 at 2026-02-11 23:56:04 +0700
Processing by Admin::AccountsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."created_at" DESC[0m
  â†³ app/views/admin/accounts/index.html.erb:25
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  â†³ app/views/admin/accounts/index.html.erb:25
  Rendered admin/accounts/index.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/4" for 127.0.0.1 at 2026-02-11 23:56:13 +0700
Processing by Admin::AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (13.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:36:in `show'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/admin/accounts/show.html.erb:5
  [1m[36mLedgerEntry Count (15.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  â†³ app/views/admin/accounts/show.html.erb:30
  [1m[36mLedgerEntry Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1 LIMIT $2[0m  [["account_id", 4], ["LIMIT", 1]]
  â†³ app/views/admin/accounts/show.html.erb:33
  [1m[36mLedgerEntry Load (0.2ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1 ORDER BY "ledger_entries"."created_at" DESC[0m  [["account_id", 4]]
  â†³ app/views/admin/accounts/show.html.erb:44
  Rendered admin/accounts/show.html.erb within layouts/application (Duration: 33.2ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 39.7ms | GC: 0.0ms)
Completed 200 OK in 83ms (Views: 23.6ms | ActiveRecord: 29.9ms (7 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts" for 127.0.0.1 at 2026-02-11 23:56:19 +0700
Processing by Admin::AccountsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."created_at" DESC[0m
  â†³ app/views/admin/accounts/index.html.erb:25
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  â†³ app/views/admin/accounts/index.html.erb:25
  Rendered admin/accounts/index.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 7.0ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/deposits" for 127.0.0.1 at 2026-02-11 23:56:24 +0700
Processing by Admin::DepositsController#index as HTML
  [1m[36mUser Load (21.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/deposits/index.html.erb within layouts/application
  [1m[36mDeposit Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "deposits" WHERE "deposits"."status" = $1 LIMIT $2[0m  [["status", "pending"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:7
  Rendered admin/deposits/index.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 3.7ms | ActiveRecord: 22.2ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/transfers/new" for 127.0.0.1 at 2026-02-11 23:56:25 +0700
Processing by Admin::TransfersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  â†³ app/controllers/admin/transfers_controller.rb:4:in `group_by'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/admin/transfers_controller.rb:4:in `group_by'
  Rendering layout layouts/application.html.erb
  Rendering admin/transfers/new.html.erb within layouts/application
  Rendered admin/transfers/new.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts" for 127.0.0.1 at 2026-02-11 23:56:26 +0700
Processing by Admin::AccountsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."created_at" DESC[0m
  â†³ app/views/admin/accounts/index.html.erb:25
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  â†³ app/views/admin/accounts/index.html.erb:25
  Rendered admin/accounts/index.html.erb within layouts/application (Duration: 7.6ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 11.0ms | ActiveRecord: 2.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/deposits" for 127.0.0.1 at 2026-02-11 23:56:32 +0700
Processing by Admin::DepositsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/deposits/index.html.erb within layouts/application
  [1m[36mDeposit Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "deposits" WHERE "deposits"."status" = $1 LIMIT $2[0m  [["status", "pending"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:7
  Rendered admin/deposits/index.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 9.1ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/transfers/new" for 127.0.0.1 at 2026-02-11 23:56:33 +0700
Processing by Admin::TransfersController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  â†³ app/controllers/admin/transfers_controller.rb:4:in `group_by'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/admin/transfers_controller.rb:4:in `group_by'
  Rendering layout layouts/application.html.erb
  Rendering admin/transfers/new.html.erb within layouts/application
  Rendered admin/transfers/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.0ms)
Completed 200 OK in 12ms (Views: 6.3ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/deposits" for 127.0.0.1 at 2026-02-11 23:56:33 +0700
Processing by Admin::DepositsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/deposits/index.html.erb within layouts/application
  [1m[36mDeposit Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "deposits" WHERE "deposits"."status" = $1 LIMIT $2[0m  [["status", "pending"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:7
  Rendered admin/deposits/index.html.erb within layouts/application (Duration: 19.9ms | GC: 13.5ms)
  [1m[36mDeposit Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | GC: 13.6ms)
Completed 200 OK in 26ms (Views: 20.7ms | ActiveRecord: 2.1ms (3 queries, 0 cached) | GC: 13.6ms)


Started GET "/admin/transfers/new" for 127.0.0.1 at 2026-02-11 23:56:34 +0700
Processing by Admin::TransfersController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  â†³ app/controllers/admin/transfers_controller.rb:4:in `group_by'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/admin/transfers_controller.rb:4:in `group_by'
  Rendering layout layouts/application.html.erb
  Rendering admin/transfers/new.html.erb within layouts/application
  Rendered admin/transfers/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.4ms)
Completed 200 OK in 16ms (Views: 5.7ms | ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 1.5ms)


Started GET "/admin/deposits" for 127.0.0.1 at 2026-02-11 23:56:35 +0700
Processing by Admin::DepositsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/deposits/index.html.erb within layouts/application
  [1m[36mDeposit Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "deposits" WHERE "deposits"."status" = $1 LIMIT $2[0m  [["status", "pending"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:7
  Rendered admin/deposits/index.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 0.2ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/admin/deposits" for 127.0.0.1 at 2026-02-11 23:56:36 +0700
Processing by Admin::DepositsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/deposits/index.html.erb within layouts/application
  [1m[36mDeposit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "deposits" WHERE "deposits"."status" = $1 LIMIT $2[0m  [["status", "pending"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:7
  Rendered admin/deposits/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.1ms)
  [1m[36mDeposit Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.3ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/admin/transfers/new" for 127.0.0.1 at 2026-02-11 23:56:37 +0700
Processing by Admin::TransfersController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  â†³ app/controllers/admin/transfers_controller.rb:4:in `group_by'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/admin/transfers_controller.rb:4:in `group_by'
  Rendering layout layouts/application.html.erb
  Rendering admin/transfers/new.html.erb within layouts/application
  Rendered admin/transfers/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  [1m[36mDeposit Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | GC: 0.3ms)
Completed 200 OK in 15ms (Views: 7.3ms | ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 1.1ms)


Started GET "/admin/accounts" for 127.0.0.1 at 2026-02-11 23:56:37 +0700
Processing by Admin::AccountsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."created_at" DESC[0m
  â†³ app/views/admin/accounts/index.html.erb:25
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  â†³ app/views/admin/accounts/index.html.erb:25
  Rendered admin/accounts/index.html.erb within layouts/application (Duration: 6.4ms | GC: 0.3ms)
  [1m[36mDeposit Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | GC: 0.7ms)
Completed 200 OK in 15ms (Views: 10.7ms | ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 1.1ms)


Started GET "/admin/accounts/4" for 127.0.0.1 at 2026-02-11 23:56:39 +0700
Processing by Admin::AccountsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:36:in `show'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/admin/accounts/show.html.erb:5
  [1m[36mLedgerEntry Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  â†³ app/views/admin/accounts/show.html.erb:30
  [1m[36mLedgerEntry Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1 LIMIT $2[0m  [["account_id", 4], ["LIMIT", 1]]
  â†³ app/views/admin/accounts/show.html.erb:33
  [1m[36mLedgerEntry Load (0.2ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1 ORDER BY "ledger_entries"."created_at" DESC[0m  [["account_id", 4]]
  â†³ app/views/admin/accounts/show.html.erb:44
  Rendered admin/accounts/show.html.erb within layouts/application (Duration: 7.5ms | GC: 0.4ms)
  [1m[36mDeposit Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | GC: 0.5ms)
Completed 200 OK in 19ms (Views: 8.8ms | ActiveRecord: 2.0ms (7 queries, 0 cached) | GC: 0.5ms)


Started GET "/admin/deposits" for 127.0.0.1 at 2026-02-11 23:56:46 +0700
Processing by Admin::DepositsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/deposits/index.html.erb within layouts/application
  [1m[36mDeposit Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "deposits" WHERE "deposits"."status" = $1 LIMIT $2[0m  [["status", "pending"], ["LIMIT", 1]]
  â†³ app/views/admin/deposits/index.html.erb:7
  Rendered admin/deposits/index.html.erb within layouts/application (Duration: 3.0ms | GC: 0.4ms)
  [1m[36mDeposit Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | GC: 0.4ms)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.4ms)


Started GET "/admin/transfers/new" for 127.0.0.1 at 2026-02-11 23:56:48 +0700
Processing by Admin::TransfersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
  â†³ app/controllers/admin/transfers_controller.rb:4:in `group_by'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/admin/transfers_controller.rb:4:in `group_by'
  Rendering layout layouts/application.html.erb
  Rendering admin/transfers/new.html.erb within layouts/application
  Rendered admin/transfers/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.1ms)
  [1m[36mDeposit Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.1ms)
Completed 200 OK in 14ms (Views: 2.8ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/admin/accounts" for 127.0.0.1 at 2026-02-11 23:56:49 +0700
Processing by Admin::AccountsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/index.html.erb within layouts/application
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."created_at" DESC[0m
  â†³ app/views/admin/accounts/index.html.erb:25
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  â†³ app/views/admin/accounts/index.html.erb:25
  Rendered admin/accounts/index.html.erb within layouts/application (Duration: 5.6ms | GC: 0.2ms)
  [1m[36mDeposit Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "deposits" WHERE "deposits"."status" = $1[0m  [["status", "pending"]]
  â†³ app/views/layouts/application.html.erb:35
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | GC: 0.2ms)
Completed 200 OK in 14ms (Views: 9.6ms | ActiveRecord: 1.4ms (4 queries, 0 cached) | GC: 0.5ms)


Started DELETE "/session" for 127.0.0.1 at 2026-02-11 23:56:59 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Completed 302 Found in 31ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-11 23:56:59 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.2ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.2ms)


