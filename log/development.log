  [1m[35m (197.7ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (56.6ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 16:09:29.175297', '2026-02-10 16:09:29.175299') RETURNING "key"[0m
Migrating to CreateFinancialTrustTables (20240210000000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240210000000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 16:09:47.714436"], ["updated_at", "2026-02-10 16:09:47.714436"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSavingsAccount Create (2.6ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 16:09:47.725902"], ["updated_at", "2026-02-10 16:09:47.725902"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInvestingAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:09:47.730804"], ["updated_at", "2026-02-10 16:09:47.730804"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2026-02-10 23:09:59 +0700
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:11:in `current_user'
  [1m[36mSavingsAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 4.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 15.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 521.9ms | GC: 15.7ms)
Completed 200 OK in 572ms (Views: 527.6ms | ActiveRecord: 16.5ms (4 queries, 0 cached) | GC: 15.7ms)


Started GET "/assets/application-bed4a081aba7ea344ac4cd879248e775c2df2cd14d092fd9c45310b32b48667f.css" for 127.0.0.1 at 2026-02-10 23:10:00 +0700
Started GET "/favicon.ico" for 127.0.0.1 at 2026-02-10 23:10:02 +0700
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:10:18 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"1", "target_id"=>"1", "amount"=>"100", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:34:in `current_user'
  [1m[36mAccount Load (33.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (33.1ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.3ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (1.5ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "-100.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-10 16:10:18.881999"], ["updated_at", "2026-02-10 16:10:18.881999"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.3ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "100.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-10 16:10:18.889706"], ["updated_at", "2026-02-10 16:10:18.889706"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mSavingsAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "900.0"], ["updated_at", "2026-02-10 16:10:18.893639"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:30:in `block in call'
  [1m[36mSavingsAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "1100.0"], ["updated_at", "2026-02-10 16:10:18.895999"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:31:in `block in call'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
Completed 500 Internal Server Error in 132ms (ActiveRecord: 72.6ms (9 queries, 1 cached) | GC: 24.1ms)


  
NoMethodError (undefined method `dom_id' for #<SavingsAccount balance: 0.11e4, user_id: 1, id: 1, type: "SavingsAccount", created_at: "2026-02-10 16:09:47.725902000 +0000", updated_at: "2026-02-10 16:10:18.895999000 +0000">):
  
app/models/account.rb:10:in `block in <class:Account>'
app/services/internal_transfer_service.rb:12:in `call'
app/controllers/transfers_controller.rb:12:in `create'
Started GET "/" for 127.0.0.1 at 2026-02-10 23:10:57 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:11:in `current_user'
  [1m[36mSavingsAccount Load (1.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 3.4ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 9.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | GC: 0.0ms)
Completed 200 OK in 62ms (Views: 21.9ms | ActiveRecord: 22.3ms (4 queries, 0 cached) | GC: 0.7ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:11:03 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"1", "target_id"=>"2", "amount"=>"100", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:34:in `current_user'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.9ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mInvestingAccount Load (0.5ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "InvestingAccount"], ["id", 2], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (1.0ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "-100.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-10 16:11:03.465400"], ["updated_at", "2026-02-10 16:11:03.465400"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.2ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 2], ["amount", "100.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-10 16:11:03.467824"], ["updated_at", "2026-02-10 16:11:03.467824"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mSavingsAccount Update (0.1ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "1000.0"], ["updated_at", "2026-02-10 16:11:03.468709"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:30:in `block in call'
  [1m[36mInvestingAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "100.0"], ["updated_at", "2026-02-10 16:11:03.469928"], ["id", 2]]
  â†³ app/services/internal_transfer_service.rb:31:in `block in call'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
  Rendered accounts/_balance.html.erb (Duration: 0.3ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_1\"><template><div id=\"balance_savings_account_1\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $1,000.00\n</div>\n</template></turbo-stream>"
Completed 500 Internal Server Error in 57ms (ActiveRecord: 30.2ms (9 queries, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `fetch' for nil:NilClass

        adapter = (cable.fetch("adapter") { "redis" })
                        ^^^^^^):
  
app/models/account.rb:10:in `block in <class:Account>'
app/services/internal_transfer_service.rb:12:in `call'
app/controllers/transfers_controller.rb:12:in `create'
Started GET "/" for 127.0.0.1 at 2026-02-10 23:11:48 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:11:in `current_user'
  [1m[36mSavingsAccount Load (1.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 3.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 8.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | GC: 0.0ms)
Completed 200 OK in 57ms (Views: 20.5ms | ActiveRecord: 20.8ms (4 queries, 0 cached) | GC: 0.7ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:11:58 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"1", "target_id"=>"2", "amount"=>"200", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:34:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.9ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "InvestingAccount"], ["id", 2], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (1.4ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "-200.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-10 16:11:58.442293"], ["updated_at", "2026-02-10 16:11:58.442293"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.2ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 2], ["amount", "200.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-10 16:11:58.444966"], ["updated_at", "2026-02-10 16:11:58.444966"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mSavingsAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "800.0"], ["updated_at", "2026-02-10 16:11:58.445829"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:30:in `block in call'
  [1m[36mInvestingAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "300.0"], ["updated_at", "2026-02-10 16:11:58.446639"], ["id", 2]]
  â†³ app/services/internal_transfer_service.rb:31:in `block in call'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
  Rendered accounts/_balance.html.erb (Duration: 0.4ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_1\"><template><div id=\"balance_savings_account_1\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $800.00\n</div>\n</template></turbo-stream>"
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_investing_account_2\"><template><div id=\"balance_investing_account_2\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $300.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 67ms (ActiveRecord: 32.6ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:11:58 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:11:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:12:19 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"1", "target_id"=>"1", "amount"=>"100", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:34:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.7ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.3ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (0.5ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "-100.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-10 16:12:19.286937"], ["updated_at", "2026-02-10 16:12:19.286937"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.4ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "100.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-10 16:12:19.290943"], ["updated_at", "2026-02-10 16:12:19.290943"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mSavingsAccount Update (0.5ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "700.0"], ["updated_at", "2026-02-10 16:12:19.297307"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:30:in `block in call'
  [1m[36mSavingsAccount Update (62.6ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "900.0"], ["updated_at", "2026-02-10 16:12:19.308430"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:31:in `block in call'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
  Rendered accounts/_balance.html.erb (Duration: 1.5ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_1\"><template><div id=\"balance_savings_account_1\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $900.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 119ms (ActiveRecord: 69.5ms (9 queries, 1 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:12:19 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:11:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.0ms)
Completed 200 OK in 12ms (Views: 7.1ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:12:23 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"1", "target_id"=>"1", "amount"=>"200", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:34:in `current_user'
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (1.2ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.3ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (0.4ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "-200.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-10 16:12:23.782663"], ["updated_at", "2026-02-10 16:12:23.782663"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.4ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "200.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-10 16:12:23.784752"], ["updated_at", "2026-02-10 16:12:23.784752"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mSavingsAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "700.0"], ["updated_at", "2026-02-10 16:12:23.786548"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:30:in `block in call'
  [1m[36mSavingsAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "1100.0"], ["updated_at", "2026-02-10 16:12:23.787889"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:31:in `block in call'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_1\"><template><div id=\"balance_savings_account_1\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $1,100.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 23ms (ActiveRecord: 3.8ms (9 queries, 1 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:12:23 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:11:in `current_user'
  [1m[36mSavingsAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:12:29 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"1", "target_id"=>"2", "amount"=>"100", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:34:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (2.5ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mInvestingAccount Load (0.4ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "InvestingAccount"], ["id", 2], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (0.7ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "-100.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-10 16:12:29.737881"], ["updated_at", "2026-02-10 16:12:29.737881"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.3ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 2], ["amount", "100.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-10 16:12:29.742698"], ["updated_at", "2026-02-10 16:12:29.742698"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mSavingsAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "1000.0"], ["updated_at", "2026-02-10 16:12:29.744269"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:30:in `block in call'
  [1m[36mInvestingAccount Update (0.2ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "400.0"], ["updated_at", "2026-02-10 16:12:29.745235"], ["id", 2]]
  â†³ app/services/internal_transfer_service.rb:31:in `block in call'
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_1\"><template><div id=\"balance_savings_account_1\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $1,000.00\n</div>\n</template></turbo-stream>"
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_investing_account_2\"><template><div id=\"balance_investing_account_2\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $400.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 41ms (ActiveRecord: 16.3ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:12:29 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:11:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 1.7ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.2ms)
Completed 200 OK in 16ms (Views: 2.4ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 9.7ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:12:37 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"2", "target_id"=>"1", "amount"=>"500", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:34:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (6.3ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mInvestingAccount Load (0.4ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "InvestingAccount"], ["id", 2], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 35ms (ActiveRecord: 18.1ms (5 queries, 0 cached) | GC: 0.7ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:12:37 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:11:in `current_user'
  [1m[36mSavingsAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.1ms)
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.4ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.2ms)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:12:41 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"1", "target_id"=>"1", "amount"=>"350", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:34:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (2.2ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.8ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 1], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (0.4ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "-350.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-10 16:12:42.006069"], ["updated_at", "2026-02-10 16:12:42.006069"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.3ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 1], ["amount", "350.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-10 16:12:42.010181"], ["updated_at", "2026-02-10 16:12:42.010181"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mSavingsAccount Update (0.3ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "650.0"], ["updated_at", "2026-02-10 16:12:42.011728"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:30:in `block in call'
  [1m[36mSavingsAccount Update (0.4ms)[0m  [1m[33mUPDATE "accounts" SET "balance" = $1, "updated_at" = $2 WHERE "accounts"."id" = $3[0m  [["balance", "1350.0"], ["updated_at", "2026-02-10 16:12:42.014324"], ["id", 1]]
  â†³ app/services/internal_transfer_service.rb:31:in `block in call'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
  Rendered accounts/_balance.html.erb (Duration: 0.5ms | GC: 0.2ms)
[ActionCable] Broadcasting to user_1_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_1\"><template><div id=\"balance_savings_account_1\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $1,350.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 26ms (ActiveRecord: 5.2ms (9 queries, 1 cached) | GC: 1.6ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:12:42 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:11:in `current_user'
  [1m[36mSavingsAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 1.8ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.1ms)
Completed 200 OK in 6ms (Views: 2.9ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.6ms)


  [1m[36mActiveRecord::SchemaMigration Load (5.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2026-02-10 23:27:59 +0700
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20240210010000_add_password_digest_to_users.rb


):
  
activerecord (7.2.3) lib/active_record/migration.rb:756:in `check_pending_migrations'
activerecord (7.2.3) lib/active_record/migration.rb:663:in `block (2 levels) in call'
activesupport (7.2.3) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (7.2.3) lib/active_record/migration.rb:668:in `block in call'
activerecord (7.2.3) lib/active_record/migration.rb:660:in `synchronize'
activerecord (7.2.3) lib/active_record/migration.rb:660:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.3) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.3) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.3) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.2.4) lib/rack/method_override.rb:28:in `call'
rack (3.2.4) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.2.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.2.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.2.4) lib/rack/sendfile.rb:131:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (7.2.3) lib/rails/engine.rb:535:in `call'
puma (7.2.0) lib/puma/configuration.rb:296:in `call'
puma (7.2.0) lib/puma/request.rb:103:in `block in handle_request'
puma (7.2.0) lib/puma/thread_pool.rb:355:in `with_force_shutdown'
puma (7.2.0) lib/puma/request.rb:102:in `handle_request'
puma (7.2.0) lib/puma/server.rb:503:in `process_client'
puma (7.2.0) lib/puma/server.rb:262:in `block in run'
puma (7.2.0) lib/puma/thread_pool.rb:182:in `block in spawn_thread'
  [1m[35m (25.6ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (4.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddPasswordDigestToUsers (20240210010000)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.8ms)[0m  [1m[35mALTER TABLE "users" ADD "password_digest" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (2.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240210010000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mLedgerEntry Load (1.4ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 1]]
  [1m[36mLedgerEntry Destroy (0.4ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 1]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 2]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 3]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 5]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 7]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 8]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 9]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 10]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 11]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 13]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 14]]
  [1m[36mSavingsAccount Destroy (0.5ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 1]]
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 2]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 4]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 6]]
  [1m[36mLedgerEntry Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ledger_entries" WHERE "ledger_entries"."id" = $1[0m  [["id", 12]]
  [1m[36mInvestingAccount Destroy (0.2ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 2]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 16:28:14.425587"], ["updated_at", "2026-02-10 16:28:14.425587"], ["password_digest", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSavingsAccount Create (1.8ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 16:28:14.427991"], ["updated_at", "2026-02-10 16:28:14.427991"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInvestingAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:28:14.430690"], ["updated_at", "2026-02-10 16:28:14.430690"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2026-02-10 23:28:23 +0700
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 22ms (ActiveRecord: 8.7ms (1 query, 0 cached) | GC: 0.6ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-10 23:28:23 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 17.3ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-10 23:28:39 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Alice", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Alice"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 222ms (Views: 3.8ms | ActiveRecord: 3.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-10 23:29:05 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Alice", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Alice"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 198ms (ActiveRecord: 0.8ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:29:05 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.9ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 6.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 7.1ms | ActiveRecord: 15.7ms (4 queries, 0 cached) | GC: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (54.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_development"[0m
  [1m[35m (24.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_test"[0m
  [1m[35m (107.4ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (41.9ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (9.0ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (9.7ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying)[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210010000)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210000000);[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 16:33:40.751401', '2026-02-10 16:33:40.751404') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '293180e4b231a032ad78c6cfdef7813b74edf909', '2026-02-10 16:33:40.752610', '2026-02-10 16:33:40.752611') RETURNING "key"[0m
  [1m[35mSQL (7.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210010000)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210000000);[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 16:33:40.776101', '2026-02-10 16:33:40.776103') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2026-02-10 16:33:40.776939' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '293180e4b231a032ad78c6cfdef7813b74edf909', '2026-02-10 16:33:40.777604', '2026-02-10 16:33:40.777604') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2026-02-10 23:33:48 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20240210020000_add_unique_index_to_accounts.rb


):
  
activerecord (7.2.3) lib/active_record/migration.rb:756:in `check_pending_migrations'
activerecord (7.2.3) lib/active_record/migration.rb:663:in `block (2 levels) in call'
activesupport (7.2.3) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (7.2.3) lib/active_record/migration.rb:668:in `block in call'
activerecord (7.2.3) lib/active_record/migration.rb:660:in `synchronize'
activerecord (7.2.3) lib/active_record/migration.rb:660:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.3) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.3) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.3) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.2.4) lib/rack/method_override.rb:28:in `call'
rack (3.2.4) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.2.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.2.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.2.4) lib/rack/sendfile.rb:131:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (7.2.3) lib/rails/engine.rb:535:in `call'
puma (7.2.0) lib/puma/configuration.rb:296:in `call'
puma (7.2.0) lib/puma/request.rb:103:in `block in handle_request'
puma (7.2.0) lib/puma/thread_pool.rb:355:in `with_force_shutdown'
puma (7.2.0) lib/puma/request.rb:102:in `handle_request'
puma (7.2.0) lib/puma/server.rb:503:in `process_client'
puma (7.2.0) lib/puma/server.rb:262:in `block in run'
puma (7.2.0) lib/puma/thread_pool.rb:182:in `block in spawn_thread'
  [1m[35m (21.6ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddUniqueIndexToAccounts (20240210020000)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240210020000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 16:34:00.359609"], ["updated_at", "2026-02-10 16:34:00.359609"], ["password_digest", "[FILTERED]"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSavingsAccount Create (2.8ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 16:34:00.369772"], ["updated_at", "2026-02-10 16:34:00.369772"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInvestingAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:34:00.374268"], ["updated_at", "2026-02-10 16:34:00.374268"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2026-02-10 23:34:07 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 21ms (ActiveRecord: 6.0ms (1 query, 0 cached) | GC: 0.5ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-10 23:34:07 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 5.9ms | GC: 4.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | GC: 5.3ms)
Completed 200 OK in 24ms (Views: 20.4ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 5.4ms)


Started POST "/session" for 127.0.0.1 at 2026-02-10 23:34:13 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Alice", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Alice"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 239ms (ActiveRecord: 39.4ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:34:14 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/dashboards/show.html.erb:26
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 5.6ms | ActiveRecord: 2.8ms (4 queries, 0 cached) | GC: 0.2ms)


  [1m[35m (21.6ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddAdminToUsers (20240210030000)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" ADD "admin" boolean DEFAULT FALSE NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240210030000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mLedgerEntry Load (0.6ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 1]]
  [1m[36mSavingsAccount Destroy (0.5ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 1]]
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 2]]
  [1m[36mInvestingAccount Destroy (0.3ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 2]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 16:37:01.484973"], ["updated_at", "2026-02-10 16:37:01.484973"], ["password_digest", "[FILTERED]"], ["admin", false]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSavingsAccount Create (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 16:37:01.487278"], ["updated_at", "2026-02-10 16:37:01.487278"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInvestingAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:37:01.490119"], ["updated_at", "2026-02-10 16:37:01.490119"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2026-02-10 23:37:11 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 22ms (ActiveRecord: 5.9ms (1 query, 0 cached) | GC: 0.7ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-10 23:37:11 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 20.5ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-10 23:37:34 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Admin", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (44.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 64ms (Views: 12.1ms | ActiveRecord: 44.7ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-10 23:37:40 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Admin", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 6ms (Views: 3.9ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-10 23:38:00 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Admin", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 6.4ms | GC: 0.0ms)
  [1m[36mUser Load (11.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 27.5ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 38ms (Views: 18.1ms | ActiveRecord: 11.9ms (2 queries, 0 cached) | GC: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (3.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (74.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_development"[0m
  [1m[35m (30.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_test"[0m
  [1m[35m (108.3ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (50.9ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (4.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying, "admin" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210030000)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210020000),
(20240210010000),
(20240210000000);[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 16:38:15.354527', '2026-02-10 16:38:15.354529') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '775651bca9cc63a74ffbab18f7af5b31589f9e5c', '2026-02-10 16:38:15.355499', '2026-02-10 16:38:15.355501') RETURNING "key"[0m
  [1m[35mSQL (4.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying, "admin" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210030000)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210020000),
(20240210010000),
(20240210000000);[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 16:38:15.374605', '2026-02-10 16:38:15.374606') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2026-02-10 16:38:15.375366' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '775651bca9cc63a74ffbab18f7af5b31589f9e5c', '2026-02-10 16:38:15.375984', '2026-02-10 16:38:15.375984') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 16:38:15.565622"], ["updated_at", "2026-02-10 16:38:15.565622"], ["password_digest", "[FILTERED]"], ["admin", false]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSavingsAccount Create (2.1ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 16:38:15.576124"], ["updated_at", "2026-02-10 16:38:15.576124"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInvestingAccount Create (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:38:15.580186"], ["updated_at", "2026-02-10 16:38:15.580186"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (73.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_development"[0m
  [1m[35m (43.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_test"[0m
  [1m[35m (91.6ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (50.1ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (4.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying, "admin" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210030000)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210020000),
(20240210010000),
(20240210000000);[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 16:40:29.587932', '2026-02-10 16:40:29.587933') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '775651bca9cc63a74ffbab18f7af5b31589f9e5c', '2026-02-10 16:40:29.589196', '2026-02-10 16:40:29.589197') RETURNING "key"[0m
  [1m[35mSQL (4.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying, "admin" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210030000)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210020000),
(20240210010000),
(20240210000000);[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 16:40:29.612010', '2026-02-10 16:40:29.612012') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2026-02-10 16:40:29.612714' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '775651bca9cc63a74ffbab18f7af5b31589f9e5c', '2026-02-10 16:40:29.613281', '2026-02-10 16:40:29.613281') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 16:40:29.805468"], ["updated_at", "2026-02-10 16:40:29.805468"], ["password_digest", "[FILTERED]"], ["admin", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["created_at", "2026-02-10 16:40:29.981359"], ["updated_at", "2026-02-10 16:40:29.981359"], ["password_digest", "[FILTERED]"], ["admin", true]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSavingsAccount Create (1.7ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 16:40:29.989215"], ["updated_at", "2026-02-10 16:40:29.989215"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInvestingAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:40:29.993032"], ["updated_at", "2026-02-10 16:40:29.993032"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Started POST "/session" for 127.0.0.1 at 2026-02-10 23:40:41 +0700
  [1m[36mActiveRecord::SchemaMigration Load (12.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Admin", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 212ms (ActiveRecord: 15.5ms (1 query, 0 cached) | GC: 0.6ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:40:41 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered dashboards/show.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 3.4ms (3 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (dom_id must be passed a record_or_class as the first argument, you passed nil):

Causes:
ArgumentError (dom_id must be passed a record_or_class as the first argument, you passed nil)
    1: <div id="<%= dom_id(account, :balance) %>" class="text-3xl font-mono text-green-700 transition-all duration-500">
    2:   <%= number_to_currency(account.balance) %>
    3: </div>
  
app/views/accounts/_balance.html.erb:1
app/views/dashboards/show.html.erb:11
Started GET "/" for 127.0.0.1 at 2026-02-10 23:41:53 +0700
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered dashboards/show.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 11.0ms (3 queries, 0 cached) | GC: 0.5ms)


  
ActionView::Template::Error (dom_id must be passed a record_or_class as the first argument, you passed nil):

Causes:
ArgumentError (dom_id must be passed a record_or_class as the first argument, you passed nil)
    1: <div id="<%= dom_id(account, :balance) %>" class="text-3xl font-mono text-green-700 transition-all duration-500">
    2:   <%= number_to_currency(account.balance) %>
    3: </div>
  
app/views/accounts/_balance.html.erb:1
app/views/dashboards/show.html.erb:11
Started GET "/" for 127.0.0.1 at 2026-02-10 23:43:05 +0700
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | GC: 0.0ms)
Completed 200 OK in 58ms (Views: 18.8ms | ActiveRecord: 13.4ms (4 queries, 0 cached) | GC: 0.7ms)


  [1m[35m (18.4ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mLedgerEntry Load (0.3ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 1]]
  [1m[36mSavingsAccount Destroy (1.2ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 1]]
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 2]]
  [1m[36mInvestingAccount Destroy (0.2ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 2]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Destroy (0.2ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 16:45:50.810269"], ["updated_at", "2026-02-10 16:45:50.810269"], ["password_digest", "[FILTERED]"], ["admin", false]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["created_at", "2026-02-10 16:45:50.986175"], ["updated_at", "2026-02-10 16:45:50.986175"], ["password_digest", "[FILTERED]"], ["admin", true]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSavingsAccount Create (0.9ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 16:45:50.988168"], ["updated_at", "2026-02-10 16:45:50.988168"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInvestingAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:45:50.989809"], ["updated_at", "2026-02-10 16:45:50.989809"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2026-02-10 23:45:57 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 24ms (ActiveRecord: 6.6ms (1 query, 0 cached) | GC: 0.7ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-10 23:45:57 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 14.5ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-10 23:46:03 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Admin", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 216ms (ActiveRecord: 6.3ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:46:03 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 16ms (Views: 4.6ms | ActiveRecord: 3.6ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-10 23:46:50 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 4.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 7.6ms | ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-10 23:47:02 +0700
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"4", "type"=>"SavingsAccount"}, "commit"=>"Create Account"}
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:21:in `create'
  [1m[36mSavingsAccount Create (5.2ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 4], ["type", "SavingsAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:47:02.741390"], ["updated_at", "2026-02-10 16:47:02.741390"]]
  â†³ app/controllers/admin/accounts_controller.rb:21:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/admin/accounts_controller.rb:21:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 67ms (ActiveRecord: 11.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:47:02 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 2.5ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 6.1ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-10 23:47:10 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 9.0ms | ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (3.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (8.8ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddInterestRateToAccounts (20240210040000)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "accounts" ADD "interest_rate" decimal(5,4) DEFAULT 0.0 NOT NULL[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240210040000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 3]]
  [1m[36mLedgerEntry Load (0.3ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 3]]
  [1m[36mSavingsAccount Destroy (0.2ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 3]]
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 4]]
  [1m[36mInvestingAccount Destroy (0.1ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 4]]
  [1m[36mUser Destroy (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 4]]
  [1m[36mLedgerEntry Load (0.1ms)[0m  [1m[34mSELECT "ledger_entries".* FROM "ledger_entries" WHERE "ledger_entries"."account_id" = $1[0m  [["account_id", 5]]
  [1m[36mSavingsAccount Destroy (0.2ms)[0m  [1m[31mDELETE FROM "accounts" WHERE "accounts"."id" = $1[0m  [["id", 5]]
  [1m[36mUser Destroy (0.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 16:52:55.961206"], ["updated_at", "2026-02-10 16:52:55.961206"], ["password_digest", "[FILTERED]"], ["admin", false]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["created_at", "2026-02-10 16:52:56.143422"], ["updated_at", "2026-02-10 16:52:56.143422"], ["password_digest", "[FILTERED]"], ["admin", true]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSavingsAccount Create (11.9ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 5], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 16:52:56.145754"], ["updated_at", "2026-02-10 16:52:56.145754"], ["interest_rate", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInvestingAccount Create (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 5], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:52:56.159659"], ["updated_at", "2026-02-10 16:52:56.159659"], ["interest_rate", "0.0"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (61.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_development"[0m
  [1m[35m (34.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_test"[0m
  [1m[35m (108.0ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (50.5ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (5.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "interest_rate" decimal(5,4) DEFAULT 0.0 NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying, "admin" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210040000)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210030000),
(20240210020000),
(20240210010000),
(20240210000000);[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 16:53:09.262357', '2026-02-10 16:53:09.262359') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'b42a6ff500d8d6da213ba814be9079890850b937', '2026-02-10 16:53:09.264289', '2026-02-10 16:53:09.264290') RETURNING "key"[0m
  [1m[35mSQL (5.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "interest_rate" decimal(5,4) DEFAULT 0.0 NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying, "admin" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210040000)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210030000),
(20240210020000),
(20240210010000),
(20240210000000);[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 16:53:09.285583', '2026-02-10 16:53:09.285585') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2026-02-10 16:53:09.286351' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'b42a6ff500d8d6da213ba814be9079890850b937', '2026-02-10 16:53:09.286979', '2026-02-10 16:53:09.286980') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 16:53:09.495976"], ["updated_at", "2026-02-10 16:53:09.495976"], ["password_digest", "[FILTERED]"], ["admin", false]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["created_at", "2026-02-10 16:53:09.677455"], ["updated_at", "2026-02-10 16:53:09.677455"], ["password_digest", "[FILTERED]"], ["admin", true]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSavingsAccount Create (1.9ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 16:53:09.689729"], ["updated_at", "2026-02-10 16:53:09.689729"], ["interest_rate", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mInvestingAccount Create (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:53:09.693489"], ["updated_at", "2026-02-10 16:53:09.693489"], ["interest_rate", "0.0"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2026-02-10 23:54:21 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Filter chain halted as :authenticate_user! rendered or redirected
Completed 302 Found in 23ms (ActiveRecord: 8.0ms (1 query, 0 cached) | GC: 0.6ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-10 23:54:21 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 18.2ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/session" for 127.0.0.1 at 2026-02-10 23:54:28 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "name"=>"Admin", "password"=>"[FILTERED]", "commit"=>"Sign in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 372ms (ActiveRecord: 121.8ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:54:28 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 6.0ms | ActiveRecord: 3.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-10 23:54:31 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (11.8ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 17.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 9.7ms | ActiveRecord: 12.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-10 23:54:43 +0700
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"1", "type"=>"InvestingAccount", "interest_rate"=>"2"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mInvestingAccount Create (5.6ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:54:43.713385"], ["updated_at", "2026-02-10 16:54:43.713385"], ["interest_rate", "2.0"]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 17.4ms (3 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_accounts_on_user_id_and_type"
DETAIL:  Key (user_id, type)=(1, InvestingAccount) already exists.
):

Causes:
PG::UniqueViolation (ERROR:  duplicate key value violates unique constraint "index_accounts_on_user_id_and_type"
DETAIL:  Key (user_id, type)=(1, InvestingAccount) already exists.
)
  
Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-10 23:54:55 +0700
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"1", "type"=>"InvestingAccount", "interest_rate"=>"2"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mInvestingAccount Create (3.7ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:54:55.911728"], ["updated_at", "2026-02-10 16:54:55.911728"], ["interest_rate", "2.0"]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 4.3ms (3 queries, 0 cached) | GC: 0.6ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_accounts_on_user_id_and_type"
DETAIL:  Key (user_id, type)=(1, InvestingAccount) already exists.
):

Causes:
PG::UniqueViolation (ERROR:  duplicate key value violates unique constraint "index_accounts_on_user_id_and_type"
DETAIL:  Key (user_id, type)=(1, InvestingAccount) already exists.
)
  
Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-10 23:57:37 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"1", "type"=>"InvestingAccount", "interest_rate"=>"2"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mAccount Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 55ms (Views: 17.4ms | ActiveRecord: 13.2ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-10 23:57:41 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 7.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 16.0ms | ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:57:46 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 11.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | GC: 0.0ms)
Completed 200 OK in 51ms (Views: 17.6ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-10 23:57:49 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 10.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 12.9ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-10 23:57:54 +0700
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"2", "type"=>"SavingsAccount", "interest_rate"=>"0.0"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mAccount Exists? (67.5ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mSavingsAccount Create (1.6ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 2], ["type", "SavingsAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 16:57:54.612051"], ["updated_at", "2026-02-10 16:57:54.612051"], ["interest_rate", "0.0"]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 93ms (ActiveRecord: 71.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:57:54 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 2.6ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 5.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | GC: 0.0ms)
Completed 200 OK in 14ms (Views: 7.6ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:58:00 +0700
  
SyntaxError (/Users/americano/dev/ruby/billionare-kit/app/controllers/transfers_controller.rb:31: syntax error, unexpected `end', expecting end-of-input
    end
    ^~~
):
  
app/controllers/transfers_controller.rb:31: syntax error, unexpected `end', expecting end-of-input
Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:58:43 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"5", "target_id"=>"5", "amount"=>"0.09", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.7ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 5], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.1ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 5], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 17ms (ActiveRecord: 7.3ms (5 queries, 1 cached) | GC: 0.9ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:58:43 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 3.0ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.1ms)
Completed 200 OK in 8ms (Views: 5.0ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:58:50 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"5", "target_id"=>"5", "amount"=>"0.04", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (2.3ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 5], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.5ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 5], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 19ms (ActiveRecord: 3.8ms (5 queries, 1 cached) | GC: 1.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:58:50 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.2ms)
Completed 200 OK in 11ms (Views: 4.1ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 1.0ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:58:51 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"5", "target_id"=>"5", "amount"=>"", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (2.3ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 5], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.6ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 5], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mLedgerEntry Create (2.0ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 5], ["amount", "-0.0"], ["entry_type", "transfer_out"], ["created_at", "2026-02-10 16:58:51.377356"], ["updated_at", "2026-02-10 16:58:51.377356"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mLedgerEntry Create (0.2ms)[0m  [1m[32mINSERT INTO "ledger_entries" ("account_id", "amount", "entry_type", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["account_id", 5], ["amount", "0.0"], ["entry_type", "transfer_in"], ["created_at", "2026-02-10 16:58:51.381020"], ["updated_at", "2026-02-10 16:58:51.381020"]]
  â†³ app/services/internal_transfer_service.rb:50:in `create_ledger_entry'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
  Rendered accounts/_balance.html.erb (Duration: 0.4ms | GC: 0.0ms)
[ActionCable] Broadcasting to user_2_dashboard: "<turbo-stream action=\"replace\" target=\"balance_savings_account_5\"><template><div id=\"balance_savings_account_5\" class=\"text-3xl font-mono text-green-700 transition-all duration-500\">\n  $0.00\n</div>\n</template></turbo-stream>"
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 51ms (ActiveRecord: 12.7ms (7 queries, 1 cached) | GC: 1.4ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:58:51 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 3.2ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.5ms)
Completed 200 OK in 8ms (Views: 4.5ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:58:53 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.6ms | GC: 0.2ms)
  [1m[36mAccount Load (1.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 7.5ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | GC: 0.6ms)
Completed 200 OK in 17ms (Views: 9.0ms | ActiveRecord: 2.3ms (4 queries, 0 cached) | GC: 0.9ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-10 23:59:02 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"5", "target_id"=>"5", "amount"=>"1000", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (14.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (2.9ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 5], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 5], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 53ms (ActiveRecord: 18.4ms (5 queries, 1 cached) | GC: 0.9ms)


Started GET "/" for 127.0.0.1 at 2026-02-10 23:59:03 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 2.3ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.1ms)
Completed 200 OK in 7ms (Views: 4.0ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 00:01:27 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20240210050000_add_name_to_accounts.rb


):
  
activerecord (7.2.3) lib/active_record/migration.rb:756:in `check_pending_migrations'
activerecord (7.2.3) lib/active_record/migration.rb:663:in `block (2 levels) in call'
activesupport (7.2.3) lib/active_support/file_update_checker.rb:85:in `execute'
activesupport (7.2.3) lib/active_support/file_update_checker.rb:95:in `execute_if_updated'
activerecord (7.2.3) lib/active_record/migration.rb:670:in `block in call'
activerecord (7.2.3) lib/active_record/migration.rb:660:in `synchronize'
activerecord (7.2.3) lib/active_record/migration.rb:660:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.3) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.3) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.3) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.3) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.2.4) lib/rack/method_override.rb:28:in `call'
rack (3.2.4) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.3) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.2.3) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.2.3) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.2.4) lib/rack/sendfile.rb:131:in `call'
actionpack (7.2.3) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (7.2.3) lib/rails/engine.rb:535:in `call'
puma (7.2.0) lib/puma/configuration.rb:296:in `call'
puma (7.2.0) lib/puma/request.rb:103:in `block in handle_request'
puma (7.2.0) lib/puma/thread_pool.rb:355:in `with_force_shutdown'
puma (7.2.0) lib/puma/request.rb:102:in `handle_request'
puma (7.2.0) lib/puma/server.rb:503:in `process_client'
puma (7.2.0) lib/puma/server.rb:262:in `block in run'
puma (7.2.0) lib/puma/thread_pool.rb:182:in `block in spawn_thread'
  [1m[35m (15.6ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddNameToAccounts (20240210050000)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "accounts" ADD "name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240210050000') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2026-02-11 00:01:42 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.4ms | GC: 0.0ms)
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 6.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | GC: 0.0ms)
Completed 200 OK in 62ms (Views: 19.6ms | ActiveRecord: 14.0ms (4 queries, 0 cached) | GC: 0.7ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-11 00:01:44 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 8.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 11.3ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 00:01:48 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 5.4ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-11 00:01:49 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 6.8ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 00:01:58 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:34
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 6.6ms | ActiveRecord: 7.0ms (4 queries, 0 cached) | GC: 0.0ms)


  [1m[35m (20.3ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(7043320047016100085)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (53.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_development"[0m
  [1m[35m (30.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "financial_trust_test"[0m
  [1m[35m (110.9ms)[0m  [1m[35mCREATE DATABASE "financial_trust_development" ENCODING = 'unicode'[0m
  [1m[35m (45.1ms)[0m  [1m[35mCREATE DATABASE "financial_trust_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (6.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "interest_rate" decimal(5,4) DEFAULT 0.0 NOT NULL, "name" character varying)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying, "admin" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210050000)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210040000),
(20240210030000),
(20240210020000),
(20240210010000),
(20240210000000);[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 17:05:00.467103', '2026-02-10 17:05:00.467105') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'ee48a7ae531939f378bf4edd247e35ffa728e9d3', '2026-02-10 17:05:00.468388', '2026-02-10 17:05:00.468389') RETURNING "key"[0m
  [1m[35mSQL (7.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying NOT NULL, "balance" decimal(15,2) DEFAULT 0.0 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "interest_rate" decimal(5,4) DEFAULT 0.0 NOT NULL, "name" character varying)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_type" ON "accounts" ("type")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accounts_on_user_id_and_type" ON "accounts" ("user_id", "type")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_accounts_on_user_id" ON "accounts" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "ledger_entries" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ledger_entries" ("id" bigserial primary key, "account_id" bigint NOT NULL, "amount" decimal(15,2) NOT NULL, "entry_type" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_ledger_entries_on_account_id" ON "ledger_entries" ("account_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "password_digest" character varying, "admin" boolean DEFAULT FALSE NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "accounts" ADD CONSTRAINT "fk_rails_b1e30bebc8"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "ledger_entries" ADD CONSTRAINT "fk_rails_95dd992850"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240210050000)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240210040000),
(20240210030000),
(20240210020000),
(20240210010000),
(20240210000000);[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2026-02-10 17:05:00.492953', '2026-02-10 17:05:00.492955') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2026-02-10 17:05:00.493731' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'ee48a7ae531939f378bf4edd247e35ffa728e9d3', '2026-02-10 17:05:00.494321', '2026-02-10 17:05:00.494322') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Alice"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Alice"], ["created_at", "2026-02-10 17:05:00.712896"], ["updated_at", "2026-02-10 17:05:00.712896"], ["password_digest", "[FILTERED]"], ["admin", false]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = $1 LIMIT $2[0m  [["name", "Admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at", "password_digest", "admin") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["created_at", "2026-02-10 17:05:00.892871"], ["updated_at", "2026-02-10 17:05:00.892871"], ["password_digest", "[FILTERED]"], ["admin", true]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSavingsAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 1], ["LIMIT", 1]]
  [1m[36mSavingsAccount Create (2.0ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate", "name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["type", "SavingsAccount"], ["balance", "1000.0"], ["created_at", "2026-02-10 17:05:00.906690"], ["updated_at", "2026-02-10 17:05:00.906690"], ["interest_rate", "0.0"], ["name", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAccount Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 1], ["LIMIT", 1]]
  [1m[36mInvestingAccount Create (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate", "name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 1], ["type", "InvestingAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 17:05:00.915434"], ["updated_at", "2026-02-10 17:05:00.915434"], ["interest_rate", "0.0"], ["name", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2026-02-11 00:05:09 +0700
  [1m[36mActiveRecord::SchemaMigration Load (11.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:42
  Rendered dashboards/show.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | GC: 0.0ms)
Completed 200 OK in 56ms (Views: 18.1ms | ActiveRecord: 12.3ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-11 00:05:12 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 4.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 8.1ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-11 00:05:23 +0700
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"2", "type"=>"SavingsAccount", "interest_rate"=>"10"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mAccount Exists? (23.5ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mSavingsAccount Create (1.4ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate", "name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["type", "SavingsAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 17:05:23.947395"], ["updated_at", "2026-02-10 17:05:23.947395"], ["interest_rate", "10.0"], ["name", nil]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 25.9ms (4 queries, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RangeError (PG::NumericValueOutOfRange: ERROR:  numeric field overflow
DETAIL:  A field with precision 5, scale 4 must round to an absolute value less than 10^1.
):

Causes:
PG::NumericValueOutOfRange (ERROR:  numeric field overflow
DETAIL:  A field with precision 5, scale 4 must round to an absolute value less than 10^1.
)
  
Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-11 00:05:44 +0700
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"2", "type"=>"SavingsAccount", "interest_rate"=>"11"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mAccount Exists? (33.4ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mSavingsAccount Create (1.3ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate", "name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["type", "SavingsAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 17:05:44.469258"], ["updated_at", "2026-02-10 17:05:44.469258"], ["interest_rate", "11.0"], ["name", nil]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
Completed 500 Internal Server Error in 90ms (ActiveRecord: 36.4ms (4 queries, 0 cached) | GC: 0.5ms)


  
ActiveRecord::RangeError (PG::NumericValueOutOfRange: ERROR:  numeric field overflow
DETAIL:  A field with precision 5, scale 4 must round to an absolute value less than 10^1.
):

Causes:
PG::NumericValueOutOfRange (ERROR:  numeric field overflow
DETAIL:  A field with precision 5, scale 4 must round to an absolute value less than 10^1.
)
  
Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-11 00:05:55 +0700
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"2", "type"=>"SavingsAccount", "interest_rate"=>"11.0"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mAccount Exists? (6.0ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mSavingsAccount Create (6.4ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate", "name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["type", "SavingsAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 17:05:55.534820"], ["updated_at", "2026-02-10 17:05:55.534820"], ["interest_rate", "11.0"], ["name", nil]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 13.8ms (4 queries, 0 cached) | GC: 1.8ms)


  
ActiveRecord::RangeError (PG::NumericValueOutOfRange: ERROR:  numeric field overflow
DETAIL:  A field with precision 5, scale 4 must round to an absolute value less than 10^1.
):

Causes:
PG::NumericValueOutOfRange (ERROR:  numeric field overflow
DETAIL:  A field with precision 5, scale 4 must round to an absolute value less than 10^1.
)
  
Started POST "/admin/accounts" for 127.0.0.1 at 2026-02-11 00:06:12 +0700
Processing by Admin::AccountsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "account"=>{"user_id"=>"2", "type"=>"SavingsAccount", "interest_rate"=>"1.01"}, "commit"=>"Create Account"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mAccount Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mSavingsAccount Create (2.4ms)[0m  [1m[32mINSERT INTO "accounts" ("user_id", "type", "balance", "created_at", "updated_at", "interest_rate", "name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["user_id", 2], ["type", "SavingsAccount"], ["balance", "0.0"], ["created_at", "2026-02-10 17:06:12.333210"], ["updated_at", "2026-02-10 17:06:12.333210"], ["interest_rate", "1.01"], ["name", nil]]
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/admin/accounts_controller.rb:22:in `create'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 43ms (ActiveRecord: 16.8ms (4 queries, 0 cached) | GC: 0.8ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 00:06:12 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 7.3ms | GC: 0.3ms)
  Rendered dashboards/show.html.erb within layouts/application (Duration: 16.2ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | GC: 0.6ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.9ms)


  
ActionView::Template::Error (undefined method `savings_account_path' for #<ActionView::Base:0x0000000000bea0>

              recipient.public_send(method, *args)
                       ^^^^^^^^^^^^
Did you mean?  admin_accounts_path):

Causes:
NoMethodError (undefined method `savings_account_path' for #<ActionView::Base:0x0000000000bea0>

              recipient.public_send(method, *args)
                       ^^^^^^^^^^^^
Did you mean?  admin_accounts_path)
    10:       <h2 class="text-xl font-semibold mb-2">Savings Account</h2>
    11:       <% if @savings %>
    12:         <%= render "accounts/balance", account: @savings %>
    13:         <%= form_with model: @savings, class: "mt-4 flex gap-2" do |f| %>
    14:           <%= f.text_field :name, class: "flex-1 rounded-md border-gray-300 shadow-sm text-sm", placeholder: "Name this account (e.g. 'Standard Savings')" %>
    15:           <%= f.submit "Rename", class: "bg-gray-200 hover:bg-gray-300 text-gray-700 px-3 py-1 rounded text-sm cursor-pointer" %>
    16:         <% end %>
  
app/views/dashboards/show.html.erb:13
Started GET "/" for 127.0.0.1 at 2026-02-11 00:07:49 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (2.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:42
  Rendered dashboards/show.html.erb within layouts/application (Duration: 5.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | GC: 0.0ms)
Completed 200 OK in 61ms (Views: 17.8ms | ActiveRecord: 17.0ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/transfers" for 127.0.0.1 at 2026-02-11 00:07:58 +0700
Processing by TransfersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "source_id"=>"3", "target_id"=>"3", "amount"=>"100", "commit"=>"Transfer Funds"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:7:in `create'
  [1m[36mCACHE Account Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/transfers_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (47.6ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 3], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:18:in `block in call'
  [1m[36mSavingsAccount Load (0.3ms)[0m  [1m[37mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."id" = $2 LIMIT $3 FOR UPDATE[0m  [["type", "SavingsAccount"], ["id", 3], ["LIMIT", 1]]
  â†³ app/services/internal_transfer_service.rb:19:in `block in call'
  [1m[36mTRANSACTION (11.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/services/internal_transfer_service.rb:12:in `call'
Redirected to http://127.0.0.1:3000/
Completed 302 Found in 75ms (ActiveRecord: 60.1ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2026-02-11 00:07:58 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:42
  Rendered dashboards/show.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.0ms)


Started PATCH "/accounts/3" for 127.0.0.1 at 2026-02-11 00:08:11 +0700
Processing by AccountsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "savings_account"=>{"name"=>"aaa"}, "commit"=>"Rename", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1 AND "accounts"."id" = $2 LIMIT $3[0m  [["user_id", 2], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/accounts_controller.rb:18:in `set_account'
Completed 400 Bad Request in 8ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionController::ParameterMissing (param is missing or the value is empty: account):
  
app/controllers/accounts_controller.rb:22:in `account_params'
app/controllers/accounts_controller.rb:5:in `update'
Started GET "/admin/accounts/new" for 127.0.0.1 at 2026-02-11 00:08:25 +0700
Processing by Admin::AccountsController#new as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering admin/accounts/new.html.erb within layouts/application
  [1m[36mUser Load (22.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  â†³ app/views/admin/accounts/new.html.erb:7
  Rendered admin/accounts/new.html.erb within layouts/application (Duration: 34.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 58.2ms | GC: 1.2ms)
Completed 200 OK in 66ms (Views: 38.0ms | ActiveRecord: 22.9ms (2 queries, 0 cached) | GC: 1.2ms)


Started GET "/session" for 127.0.0.1 at 2026-02-11 00:08:27 +0700
  
ActionController::RoutingError (No route matches [GET] "/session"):
  
Started GET "/session" for 127.0.0.1 at 2026-02-11 00:10:14 +0700
  [1m[36mActiveRecord::SchemaMigration Load (22.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/session"):
  
Started GET "/" for 127.0.0.1 at 2026-02-11 00:10:17 +0700
Processing by DashboardsController#show as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  [1m[36mSavingsAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "SavingsAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:4:in `show'
  [1m[36mInvestingAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."type" = $1 AND "accounts"."user_id" = $2 LIMIT $3[0m  [["type", "InvestingAccount"], ["user_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/dashboards_controller.rb:5:in `show'
  Rendering layout layouts/application.html.erb
  Rendering dashboards/show.html.erb within layouts/application
  Rendered layouts/_flash.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered accounts/_balance.html.erb (Duration: 1.8ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" WHERE "accounts"."user_id" = $1[0m  [["user_id", 2]]
  â†³ app/views/dashboards/show.html.erb:42
  Rendered dashboards/show.html.erb within layouts/application (Duration: 6.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | GC: 0.0ms)
Completed 200 OK in 94ms (Views: 21.0ms | ActiveRecord: 10.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started DELETE "/session" for 127.0.0.1 at 2026-02-11 00:10:20 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
Redirected to http://127.0.0.1:3000/session/new
Completed 302 Found in 6ms (ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/session/new" for 127.0.0.1 at 2026-02-11 00:10:20 +0700
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:8:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 29.4ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 30.2ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


