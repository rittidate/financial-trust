<div class="max-w-md mx-auto bg-white p-8 rounded shadow">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold">Transfer Funds</h1>
    <%= link_to "Cancel", admin_accounts_path, class: "text-gray-600 hover:text-gray-900 text-sm" %>
  </div>

  <%= form_with url: admin_transfers_path, method: :post, local: true, class: "space-y-4" do |f| %>
    <div>
      <%= f.label :source_id, "From Account", class: "block text-sm font-medium text-gray-700" %>
      <select name="source_id" id="source_id" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
        <option value="">Select Source Account</option>
        <% @accounts.each do |user, accounts| %>
          <optgroup label="<%= user.name %>">
            <% accounts.each do |account| %>
              <option value="<%= account.id %>">
                <%= account.type.underscore.humanize %> - <%= number_to_currency(account.balance) %>
              </option>
            <% end %>
          </optgroup>
        <% end %>
      </select>
    </div>

    <div>
      <%= f.label :target_id, "To Account", class: "block text-sm font-medium text-gray-700" %>
      <select name="target_id" id="target_id" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
        <option value="">Select Target Account</option>
        <% @accounts.each do |user, accounts| %>
          <optgroup label="<%= user.name %>">
            <% accounts.each do |account| %>
              <option value="<%= account.id %>">
                <%= account.type.underscore.humanize %> - <%= number_to_currency(account.balance) %>
              </option>
            <% end %>
          </optgroup>
        <% end %>
      </select>
    </div>
    
    <div>
      <%= f.label :amount, "Amount ($)", class: "block text-sm font-medium text-gray-700" %>
      <%= f.number_field :amount, step: 0.01, min: 0.01, required: true, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" %>
    </div>

    <div>
      <%= f.submit "Transfer Funds", class: "w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer" %>
    </div>
  <% end %>
</div>
