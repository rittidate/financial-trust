<div class="max-w-md mx-auto bg-white p-8 rounded shadow">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold">Create New Account</h1>
    <%= link_to "All Accounts", admin_accounts_path, class: "text-blue-600 hover:text-blue-800 text-sm" %>
  </div>

  <%= form_with model: [:admin, @account], url: admin_accounts_path, local: true, class: "space-y-4" do |f| %>
    <div>
      <%= f.label :user_id, "Select User", class: "block text-sm font-medium text-gray-700" %>
      <%= f.collection_select :user_id, @users, :id, :name, { prompt: "Choose a user..." }, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" %>
    </div>

    <div>
      <%= f.label :type, "Account Type", class: "block text-sm font-medium text-gray-700" %>
      <%= f.select :type, [["Savings Account", "SavingsAccount"], ["Investing Account", "InvestingAccount"]], { prompt: "Choose type..." }, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" %>
    </div>
    
    <div>
      <%= f.label :interest_rate, "Interest Rate (%)", class: "block text-sm font-medium text-gray-700" %>
      <%= f.number_field :interest_rate, step: 0.01, min: 0, value: 0.0, class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" %>
    </div>

    <div>
      <%= f.submit "Create Account", class: "w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500" %>
    </div>
  <% end %>

  <div class="mt-8 pt-8 border-t border-gray-200">
    <h3 class="text-lg font-medium text-gray-900 mb-4">System Actions</h3>
    <%= button_to "Payout Interest (Trigger)", payout_interest_admin_accounts_path, method: :post, class: "w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 cursor-pointer" %>
    <p class="mt-2 text-sm text-gray-500 text-center">Calculates interest for all accounts and credits them.</p>
  </div>
  
  <div class="mt-4 text-center">
    <%= link_to "Back to Dashboard", root_path, class: "text-blue-600 hover:text-blue-800" %>
  </div>
</div>
